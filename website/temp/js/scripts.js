var ContactFormModule=function(){return{initContactFormListener:function(){$("#contact-form .btn-site").on("click",function(){$("#contact-form").submit()}),$("#contact-form").submit(function(e){if(e.preventDefault(),void 0===$("#contact-form .btn-site").attr("disabled")){$("#contact-form .btn-site").attr("disabled",!0),$("#contact-form .btn-site").addClass("spinning"),$("#contact-form .btn-site").animateCss("pulse");var t=$("#contact-form").find("input, textarea, select"),s={};t.each(function(){this.name&&("checkbox"==this.type||"radio"==this.type?this.checked&&(s[this.name]=this.value):s[this.name]=this.value)}),$.ajax({url:"assets/php/handleajaxform.php",method:"POST",data:s,success:function(e){if($("div[data-error-id]").text(""),$("#contact-form input, #contact-form textarea").removeClass("form-error"),$("#send-result").text(""),Object.keys(e.errors).length>0)for(var t in e.errors)console.log("error in "+t+": "+e.errors[t]),$('div[data-error-id="'+t+'"]').text(e.errors[t]).hide().slideDown(),$('*[name="'+t+'"]').addClass("form-error"),$('*[name="'+t+'"]').animateCss("shake");else console.log("All validation passed succesfully!"),$("#send-result").text("Thank you. Your message has been sent."),$("#send-result").removeClass("alert-danger").addClass("alert-success"),$("#send-result").show().animateCss("bounceIn",function(){$("input").val(""),$("textarea").val(""),$("#send-result").delay(5e3).slideUp()})},error:function(){$("#send-result").removeClass("alert-success"),$("#send-result").addClass("alert-danger"),$("#send-result").text("Sorry... Your message could not have been delivered."),$("#send-result").slideDown()},complete:function(){$("#contact-form .btn-site").removeAttr("disabled"),$("#contact-form .btn-site").removeClass("spinning"),$("#contact-form .btn-site").animateCss("pulse")}})}})}}}();
var MapModule=function(){var e,n={lat:50.048822,lng:15.200242};return{initContactMap:function(){var a=[{featureType:"all",elementType:"all",stylers:[{saturation:-100},{gamma:.5}]}],t=new google.maps.Map(document.getElementById("contact-map"),{center:n,scrollwheel:!1,streetViewControl:!0,streetViewControl:{position:google.maps.ControlPosition.LEFT_BOTTOM},mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},styles:a,zoom:8});e=t;new google.maps.Marker({map:t,position:n,title:"Kamenictv√≠ Erben",icon:{url:"assets/images/IE_logo_rounded_pointer.png",scaledSize:new google.maps.Size(150,150)}});e.panBy(0,-$("nav.navbar").height())},placeContactListeners:function(){$(".btn-map").on("click",function(a){a.preventDefault();var t=$(this);if(window.addEventListener("orientationchange",function(){t.children().hasClass("fa-expand")&&(window.matchMedia("(orientation: landscape)").matches&&window.innerWidth<767?$("#contact-map").animate({height:"75vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}):$("#contact-map").animate({height:"50vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}))},!1),t.children().hasClass("fa-expand"))return t.children().removeClass("fa-expand").addClass("fa-compress"),void $("#contact-map").animate({height:"100vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())});t.children().hasClass("fa-compress")&&(t.children().removeClass("fa-compress").addClass("fa-expand"),window.matchMedia("(orientation: landscape)").matches&&window.innerWidth<767?$("#contact-map").animate({height:"75vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}):$("#contact-map").animate({height:"50vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}))})}}}();
$(function(e){"object"!=typeof e.mySite&&(e.mySite={});var n=[{carousel:"#main-carousel",interval:7e3,pause:"none"},{carousel:"#about-carousel",interval:5e3,pause:"none"},{carousel:"#carouselTombstones",interval:3e3,pause:"none"},{carousel:"#carouselGarden",interval:3e3,pause:"none"},{carousel:"#carouselRestorations",interval:3e3,pause:"none"},{carousel:"#CarouselMonuments",interval:3e3,pause:"none"}];$(".loader-wrapper").hide(),$.fn.extend({animateCss:function(e,n){return this.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated "+e),$.isFunction(n)&&n()}),this}}),initCarousels=function(e){for(var n=0;n<e.length-1;n++)$(e[n].carousel).carousel({interval:e[n].interval});console.log("carousels initialized")},initCarousels(n),e.mySite.carouselsSetup=n,e.mySite.initCarousels=initCarousels}(window));
!function(a,t){var n=["cz","en"],e=function(a){return new e.init(a)};e.prototype={getKeyVal:function(a){return self=this,function(){a=a.trim();for(var t,n=0;n<=e.data.length-1;n++){if(e.data[n].datatag===a)return t=e.data[n][self.activeLang];t=""}return t}()},switchLang:function(a){self=this;for(var n=t("[data-lang]").length,e=0;e<=n-1;e++){var i=t(t("[data-lang]")[e]).data("lang");value=LNG$(a).getKeyVal(i),void 0===value?console.log("Language tag '"+i+"' is not defined in language database for: "+a):""!==value.trim()&&(value.search("<ph>")>-1?(value=value.substr(4,value.length),t(t("[data-lang]")[e]).attr("placeholder",value)):t(t("[data-lang]")[e]).text(LNG$(a).getKeyVal(i)).animateCss("pulse"),t(t("[data-lang]")[e]).css("visibility","visible"))}},getSelectedLang:function(){return t(".lang-switcher>span").text().toLowerCase().trim()}},e.init=function(a){this.activeLang=a||n[0]},e.init.prototype=e.prototype,a.Lang=a.LNG$=e,function(a,n){t.getJSON(a,function(){}).done(function(a){console.log("lang data loaded..."),n(a)}).fail(function(a,t,n){console.log("--- error ---"),console.log(a)}).always(function(){})}("./assets/data/lang.json",function(a){e.data=a;var n=t(".lang-switcher>span").text().trim();LNG$(n).switchLang(n)})}(window,jQuery);
$(function(n){function e(){console.log("navMenu initialized");var e={};$cachedItems=$("#mainNavbar [data-menuitem]"),$($cachedItems).each(function(n,t){e[$(t).data("menuitem")]=""}),n.mySite.cachedPage=e,$("#mainNavbar").on("show.bs.collapse",function(){$(".navbar .navbar-collapse").removeClass("order-2").addClass("order-5"),$(".hamburger__menu-icon").addClass("hamburger__menu-icon--close-x")}),$("#mainNavbar").on("hidden.bs.collapse",function(){$(".navbar .navbar-collapse").removeClass("order-5").addClass("order-2")}),$("#mainNavbar").on("hide.bs.collapse",function(){$(".hamburger__menu-icon").removeClass("hamburger__menu-icon--close-x")}),$(".nav-item").on("click",function(n){if(n.preventDefault(),!d){var e=$(this).children(".nav-link").data("menuitem").trim().toLowerCase(),a=$(this).children(".nav-link").attr("href").trim().toLowerCase();$(this).parent().children(".nav-item").removeClass("active"),$(this).addClass("active"),t(e,a)}})}function t(n,e,t){d=!0,"string"!=typeof menuItemName&&(menuItemName=""),lang=LNG$().getSelectedLang(),e=e||"","function"!=typeof t&&(t=function(){}),$("#mainNavbar").collapse("hide"),$("#ajax-container").fadeOut(500,function(){$("#ajax-content").hide(),$(".loader-wrapper").fadeIn(500),$("body,html").stop().animate({scrollTop:0},"50"),$(this).remove(),""===mySite.cachedPage[n]?$("#ajax-content").load(e+" #ajax-container",function(e,i){"success"===i?(console.log("Loaded '"+n+"' from SERVER..."),a(function(){LNG$(lang).switchLang(lang),mySite.cachedPage[n]=$(e).find("#ajax-container"),mapInitFlag="contact"===n,m[n](t,mapInitFlag)})):"error"===i&&($(".loader-wrapper").hide(),console.log("Error loading from server..."))}):(console.log("Loaded '"+n+"' from CACHE..."),$(mySite.cachedPage[n]).appendTo("#ajax-content"),a(function(){LNG$(lang).switchLang(lang),m[n](t)}))})}function a(n){"function"!=typeof n&&(n=function(){}),$("#ajax-container").show(),$(".loader-wrapper").hide(),$("#ajax-content").fadeIn(500,function(){n()})}function o(n,e,t){"function"!=typeof t&&(t=function(){}),$(e).append($("<script />",{src:n,async:!0,defer:!0})),t()}function c(){clearInterval(mySite.btnInterval),mySite.btnInterval=setInterval(function(){$(".btn-down").animateCss("bounce")},3e3);var n=0;$(window).on("scroll",function(){var e=$(window).height(),t=$(window).scrollTop();n=e/5,t<0&&(t=0),(e-n)/t>1?$(".btn-move-up").is(":visible")&&$(".btn-move-up").animateCss("bounceOut",function(){$(".btn-move-up").hide(),$(".btn-down").show().animateCss("bounceIn")}):$(".btn-move-up").is(":visible")||$(".btn-down").animateCss("bounceOut",function(){$(".btn-down").hide(),$(".btn-move-up").show(),$(".btn-move-up").animateCss("bounceIn")})}),$(".btn-move-up").on("click",function(){$("body,html").stop().animate({scrollTop:0},"700","swing")}),$(".btn-down").on("click",function(n){n.preventDefault();var e=n.currentTarget.hash,t=$(e).offset().top;$("body,html").stop().animate({scrollTop:t},"700","swing")})}function r(){function n(n,e){"object"!=typeof n&&(n=n||[]),"string"!=typeof e&&(e=e||"");var t=!1;return-1===n.indexOf(e)?console.log("error: language: '"+e+"' within 'index.html' file is not compatible with languages defined."):t=!0,t}var e=[],t={cz:!1,en:!0,de:!0};u=LNG$().getSelectedLang(),$.each(t,function(n,t){t&&e.push(n)}),$(".lang-switcher").on("click",function(){var t=e.indexOf(u)+1;n(e,u)&&(t=t===e.length?0:t,u=e[t],$(".lang-switcher>span").text(u),LNG$(u).switchLang(u),$(this).animateCss("bounceIn"))})}function l(){console.log("links to gallery initialized..."),$(".btn-site").on("click",function(n){n.preventDefault;var e=(LNG$().getSelectedLang(),$(this).data("link").toLowerCase().trim()),a=window.location.href;a.search("index.html")>=0?a=a.replace("index.html","realisations.html"):a+="realisations.html",$(".nav-item").removeClass("active"),$("[data-menuitem='realisations']").parent().addClass("active"),t("realisations",a,function(){$(".filter-item").each(function(n){if(void 0!==$(this).data("lang")&&$(this).data("lang").toLowerCase().trim()===e)return void $(this).trigger("click")})})})}function s(n,e){if(console.log("parallax '"+n+"' initialized"),n=n||"",e=e||"",!f){var t=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"100%"}});new ScrollMagic.Scene({triggerElement:n}).setTween(e,{y:"50%",ease:Linear.easeNone}).addTo(t)}}var u="",d=!1;"object"!=typeof n.mySite&&(n.mySite={});var m={main:function(n){"function"!=typeof n&&(n=function(){}),mySite.initCarousels(mySite.carouselsSetup),c(),l(),f||s("#parallax1","#parallax1 > div"),n(),d=!1},about:function(n){"function"!=typeof n&&(n=function(){}),mySite.initCarousels(mySite.carouselsSetup),c(),f||s("#parallax2","#parallax2 > div"),n(),d=!1},realisations:function(n){"function"!=typeof n&&(n=function(){}),mySite.initCommisionsGallery(function(){var e=LNG$().getSelectedLang();LNG$(e).switchLang(e),c(),n(),d=!1})},pricing:function(n){"function"!=typeof n&&(n=function(){}),mySite.initPricingGallery(function(){var e=LNG$().getSelectedLang();LNG$(e).switchLang(e),c(),n(),d=!1})},contact:function(n,e){"function"!=typeof n&&(n=function(){}),e=e||!1,e?(ContactFormModule.initContactFormListener(),o("https://maps.googleapis.com/maps/api/js?key=AIzaSyA0qVKpndfcoIgP5nwuJxmH5q0v5TSvEc4&callback=MapModule.initContactMap","body",function(){MapModule.placeContactListeners(),n(),d=!1})):(MapModule.initContactMap(),MapModule.placeContactListeners(),ContactFormModule.initContactFormListener(),n(),d=!1)}},f=function(){var n=["android","webos","iphone","ipad","blackberry"];for(i in n)if(navigator.userAgent.toLowerCase().search(n[i])>-1&&void 0!==window.orientation)return!0;return!1}();n.mySite.isMobileFlag=f,!0===f&&$("body").addClass("isMobile"),$(window).on("load",function(){l(),e(),c(),r(),s("#parallax1","#parallax1 > div")}),n.mySite.navMenuInit=e,n.mySite.linkToGallery=l,n.mySite.navItemClickCallback=t,n.mySite.placeJumpButtonListeners=c,n.mySite.placeLangSwitchListener=r,n.mySite.initParallax=s}(window));
$(function(e){function i(e){var i=LNG$().getSelectedLang();console.log("initCommisionsGallery called"),e="function"==typeof e?e:function(){};var o=0;$(".grid-item>.img-result-wrapper").hide(),$(".grid-item>.img-loader-wrapper").show(),$(".grid>.grid-item").addClass("hover-off"),$("#portfolios").imagesLoaded().always(function(i){console.log("all images of 'Commisions menu' loaded"),t(".grid",{itemSelector:".grid-item",stagger:30}),r("#filter-portfolio","#portfolio-gallery .grid-item"),l(".grid"),$(".grid-item>.img-result-wrapper").fadeOut(1e3),$(".img-loader>.img-loader-text").text("images loaded"),$(".img-loader-bar").css("background-color","green"),$(".img-loader").delay(3e3).slideUp(1e3),$(".grid>.grid-item").removeClass("hover-off"),e()}).done(function(){console.log("all images of 'Commisions menu' successfully loaded"),LNG$(i).switchLang(i)}).fail(function(){console.log(o+" of 'Commisions menu' images have broken links. Check your image paths."),$(".img-loader").delay(3e3).slideUp(1e3)}).progress(function(e,i){i.isLoaded?($(i.img).siblings(".img-loader-wrapper").hide(),$(i.img).siblings(".img-result-wrapper").animateCss("bounceIn").show(),$(".img-loader-bar").width(e.progressedCount/e.images.length*100+"%")):(o++,$(i.img).parent().remove())})}function o(e){e="function"==typeof e?e:function(){};var i=0;$(".grid-pricing>.grid-item-pricing").addClass("hover-off"),$("#pricing").imagesLoaded().always(function(i){console.log("all images of 'Pricing menu' loaded"),t(".grid-pricing",{itemSelector:".grid-item-pricing",stagger:30}),r("#filter-pricelist","#pricing-gallery .grid-item-pricing"),l(".grid-pricing"),$(".grid-pricing>.grid-item-pricing").removeClass("hover-off"),e()}).done(function(){console.log("All images of 'Pricing menu' successfully loaded")}).fail(function(){console.log(i+" of 'Pricing menu' images have broken links. Check your image paths.")}).progress(function(e,o){o.isLoaded||(i++,$(o.img).parent().remove())})}function t(e,i){$(e).isotope(i),$(e).isotope("on","layoutComplete",function(){".grid"===e?$(e+" :visible img").animateCss("pulse"):".grid-pricing"===e&&$(e+" :visible").animateCss("pulse")})}function r(e,i){var o=$(i),t=$(e),r={};t.children().remove(),o.each(function(){var e=this,i=$(this).data("portfolio-tags");i&&i.split(",").forEach(function(i){i=i.trim(),null==r[i]&&(r[i]=[]),r[i].push(e)})}),t.addClass("filter-wrapper"),$("<li/>").appendTo(t),$("<a/>",{text:"V≈°e",class:"filter-item selected",click:function(){$(this).addClass("selected").parent().siblings().children().removeClass("selected")}}).appendTo(t.children().eq(0)).attr("data-lang","V≈°e"),$("<li><a class='filter-item filter-portfolio-divider'>&nbsp;</a></li>").appendTo(t),$.each(r,function(e){$("<li/>").appendTo(t),$("<a/>",{text:e,class:"filter-item",click:function(){$(this).addClass("selected").parent().siblings().children().removeClass("selected")}}).appendTo(t.children().last()).attr("data-lang",e)})}function l(e){$(".filter-wrapper").on("click",".filter-item",function(){var i=$(this).data("lang");i===$($(".filter-item")[0]).data("lang")?$(e).isotope({filter:function(){return!0}}):$(e).isotope({filter:function(){return tagText=$(this).data("portfolioTags"),found=tagText.search(i),found>-1}})}),$(e+" .grid-item").on("click",function(i){i.preventDefault(),$(this).hasClass("grid-item-selected")?$(this).removeClass("grid-item-selected"):($(e+" .grid-item").removeClass("grid-item-selected"),$(this).addClass("grid-item-selected")),$(e).isotope("layout")})}e.mySite.initCommisionsGallery=i,e.mySite.initPricingGallery=o}(window));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3QtZm9ybS5qcyIsImNvbnRhY3RfbWFwLmpzIiwiaW5pdC5qcyIsImxhbmd1YWdlLWNvbnRyb2xsZXIuanMiLCJuYXZpZ2F0aW9uLmpzIiwicG9ydGZvbGlvX2ZpbHRlci5qcyJdLCJuYW1lcyI6WyJDb250YWN0Rm9ybU1vZHVsZSIsImluaXRDb250YWN0Rm9ybUxpc3RlbmVyIiwiJCIsIm9uIiwic3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwidW5kZWZpbmVkIiwiYXR0ciIsImFkZENsYXNzIiwiYW5pbWF0ZUNzcyIsImlucHV0RWxlbWVudHMiLCJmaW5kIiwiZm9ybVZhbHVlcyIsImVhY2giLCJ0aGlzIiwibmFtZSIsInR5cGUiLCJjaGVja2VkIiwidmFsdWUiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0ZXh0IiwicmVtb3ZlQ2xhc3MiLCJPYmplY3QiLCJrZXlzIiwiZXJyb3JzIiwibGVuZ3RoIiwiaW5wdXROYW1lIiwiY29uc29sZSIsImxvZyIsImhpZGUiLCJzbGlkZURvd24iLCJzaG93IiwidmFsIiwiZGVsYXkiLCJzbGlkZVVwIiwiZXJyb3IiLCJjb21wbGV0ZSIsInJlbW92ZUF0dHIiLCJNYXBNb2R1bGUiLCJteU1hcCIsIm15UG9zaXRpb24iLCJsYXQiLCJsbmciLCJpbml0Q29udGFjdE1hcCIsInN0eWxlQXJyYXkiLCJmZWF0dXJlVHlwZSIsImVsZW1lbnRUeXBlIiwic3R5bGVycyIsInNhdHVyYXRpb24iLCJnYW1tYSIsIm1hcCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2VudGVyIiwic2Nyb2xsd2hlZWwiLCJzdHJlZXRWaWV3Q29udHJvbCIsInBvc2l0aW9uIiwiQ29udHJvbFBvc2l0aW9uIiwiTEVGVF9CT1RUT00iLCJtYXBUeXBlQ29udHJvbCIsIm1hcFR5cGVDb250cm9sT3B0aW9ucyIsIkJPVFRPTV9MRUZUIiwiem9vbUNvbnRyb2wiLCJ6b29tQ29udHJvbE9wdGlvbnMiLCJMRUZUX0NFTlRFUiIsInN0eWxlcyIsInpvb20iLCJNYXJrZXIiLCJ0aXRsZSIsImljb24iLCJzY2FsZWRTaXplIiwiU2l6ZSIsInBhbkJ5IiwiaGVpZ2h0IiwicGxhY2VDb250YWN0TGlzdGVuZXJzIiwiJHRoaXMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hpbGRyZW4iLCJoYXNDbGFzcyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiaW5uZXJXaWR0aCIsImFuaW1hdGUiLCJldmVudCIsInRyaWdnZXIiLCJzZXRDZW50ZXIiLCJnbG9iYWwiLCJteVNpdGUiLCJjYXJvdXNlbHNTZXR1cCIsImNhcm91c2VsIiwiaW50ZXJ2YWwiLCJwYXVzZSIsImZuIiwiZXh0ZW5kIiwiYW5pbWF0aW9uTmFtZSIsImNhbGxCYWNrRnVuYyIsIm9uZSIsImlzRnVuY3Rpb24iLCJpbml0Q2Fyb3VzZWxzIiwiY2FyU2V0dXAiLCJpIiwic2l0ZUxhbmdzIiwiTGFuZyIsImFjdGl2ZUxhbmciLCJpbml0IiwicHJvdG90eXBlIiwiZ2V0S2V5VmFsIiwia2V5VmFsIiwic2VsZiIsInRyaW0iLCJkYXRhdGFnIiwic3dpdGNoTGFuZyIsInN3aXRjaFRvTGFuZyIsIm51bU9mTGFuZ0VscyIsInJldHJpZXZlZERhdGFUYWciLCJMTkckIiwic2VhcmNoIiwic3Vic3RyIiwiY3NzIiwiZ2V0U2VsZWN0ZWRMYW5nIiwidG9Mb3dlckNhc2UiLCJjYWxsYmFja0Z1bmMiLCJnZXRKU09OIiwiZG9uZSIsImZhaWwiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImFsd2F5cyIsImluaXRMYW5nIiwialF1ZXJ5IiwibmF2TWVudUluaXQiLCJjYWNoZWRQYWdlIiwiJGNhY2hlZEl0ZW1zIiwiaW5kZXgiLCJwYWdlU3dpdGNoaW5nQWN0aXZlIiwibWVudU5hbWUiLCJwYXJlbnQiLCJuYXZJdGVtQ2xpY2tDYWxsYmFjayIsIm1lbXVJdGVtTmFtZSIsIm1lbnVJdGVtTmFtZSIsImxhbmciLCJjb2xsYXBzZSIsImZhZGVPdXQiLCJmYWRlSW4iLCJzdG9wIiwic2Nyb2xsVG9wIiwicmVtb3ZlIiwibG9hZCIsInN0YXR1cyIsInVwZGF0ZVBhZ2UiLCJtYXBJbml0RmxhZyIsInBhZ2VDYWxsYmFja0Z1bmMiLCJhcHBlbmRUbyIsImFkZFNjcmlwdCIsInNyYyIsImVsIiwiY2FsbGJhY2tGIiwiYXBwZW5kIiwiYXN5bmMiLCJkZWZlciIsInBsYWNlSnVtcEJ1dHRvbkxpc3RlbmVycyIsImNsZWFySW50ZXJ2YWwiLCJidG5JbnRlcnZhbCIsInNldEludGVydmFsIiwib2ZmU2V0WSIsImFjdHVhbEhlaWdodCIsImFjdHVhbFNjcm9sbFBvcyIsImlzIiwianVtcEhhc2giLCJjdXJyZW50VGFyZ2V0IiwiaGFzaCIsImp1bXBQb2ludCIsIm9mZnNldCIsInRvcCIsInBsYWNlTGFuZ1N3aXRjaExpc3RlbmVyIiwiaXNMYW5nRGVmaW5lZCIsImFjdGl2ZUxhbmdzIiwibGFuZ1RvQ2hlY2siLCJpc0RlZmluZWQiLCJpbmRleE9mIiwiYWN0aXZlTGFuZ3VhZ2VzIiwibGFuZ3VhZ2VzIiwiY3oiLCJlbiIsImRlIiwicHVzaCIsIm5leHQiLCJsaW5rVG9HYWxsZXJ5IiwiZ2FsTGluayIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJpbml0UGFyYWxsYXgiLCJ0cmlnZ2VyRWxlbWVudCIsInR3ZWVuRWxlbWVudCIsImlzTW9iaWxlRmxhZyIsImNvbnRyb2xsZXIiLCJTY3JvbGxNYWdpYyIsIkNvbnRyb2xsZXIiLCJnbG9iYWxTY2VuZU9wdGlvbnMiLCJ0cmlnZ2VySG9vayIsImR1cmF0aW9uIiwiU2NlbmUiLCJzZXRUd2VlbiIsInkiLCJlYXNlIiwiTGluZWFyIiwiZWFzZU5vbmUiLCJhZGRUbyIsIm1haW4iLCJhYm91dCIsInJlYWxpc2F0aW9ucyIsImluaXRDb21taXNpb25zR2FsbGVyeSIsInByaWNpbmciLCJpbml0UHJpY2luZ0dhbGxlcnkiLCJjb250YWN0IiwicnVuTWFwSW5pdFNjcmlwdCIsImFnZW50cyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm9yaWVudGF0aW9uIiwiYnJva2VuQ291bnQiLCJpbWFnZXNMb2FkZWQiLCJpbnN0YW5jZSIsImluc3RhbnRpYXRlSXNvdG9wZUdhbGxlcnkiLCJpdGVtU2VsZWN0b3IiLCJzdGFnZ2VyIiwiYnVpbGRJbWdDYXRlZ29yaWVzIiwicGxhY2VGaWx0ZXJMaXN0ZW5lcnMiLCJwcm9ncmVzcyIsImltYWdlIiwiaXNMb2FkZWQiLCJpbWciLCJzaWJsaW5ncyIsIndpZHRoIiwicHJvZ3Jlc3NlZENvdW50IiwiaW1hZ2VzIiwib3B0aW9ucyIsImlzb3RvcGUiLCJsaXN0RWxlbWVudCIsImltZ0NvbnRhaW5lcnMiLCIkaW1nQ29udGFpbmVycyIsIiRidXR0b25zIiwidGFnZ2VkIiwiaW1nQ29udGFpbmVyIiwidGFncyIsInNwbGl0IiwiZm9yRWFjaCIsInRhZ05hbWUiLCJjbGFzcyIsImNsaWNrIiwiZXEiLCJsYXN0IiwiZ3JpZEVsIiwiZmlsdGVyVmFsdWUiLCJmaWx0ZXIiLCJ0YWdUZXh0IiwiZm91bmQiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLG1CQUFvQixXQXlGcEIsT0FDSUMsd0JBeEYwQixXQUUxQkMsRUFBRSwyQkFBMkJDLEdBQUksUUFBUyxXQUV0Q0QsRUFBRyxpQkFBa0JFLFdBR3pCRixFQUFFLGlCQUFpQkUsT0FBTyxTQUFTQyxHQUkvQixHQUhBQSxFQUFFQyxxQkFHa0RDLEtBQWhETCxFQUFFLDJCQUEyQk0sS0FBSyxZQUF5QixDQUUzRE4sRUFBRSwyQkFBMkJNLEtBQUssWUFBVyxHQUM3Q04sRUFBRSwyQkFBMkJPLFNBQVMsWUFDdENQLEVBQUUsMkJBQTJCUSxXQUFXLFFBRXhDLElBQUlDLEdBQWdCVCxFQUFFLGlCQUFpQlUsS0FBSywyQkFDeENDLElBRUpGLEdBQWNHLEtBQUssV0FDWEMsS0FBS0MsT0FDWSxZQUFiRCxLQUFLRSxNQUFtQyxTQUFiRixLQUFLRSxLQUM1QkYsS0FBS0csVUFDTEwsRUFBV0UsS0FB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LFlBQVkyUCxLQUkzRCxRQUFTcEIsR0FBcUJ5QixHQUMxQnRRLEVBQUUsbUJBQW1CQyxHQUFJLFFBQVMsZUFBZ0IsV0FDakQsR0FBSXNRLEdBQWN2USxFQUFFYSxNQUFNUSxLQUFLLE9BSTNCa1AsS0FBZ0J2USxFQUFFQSxFQUFFLGdCQUFnQixJQUFJcUIsS0FBSyxRQUNoRHJCLEVBQUVzUSxHQUFRZixTQUNWaUIsT0FBUSxXQUNQLE9BQU8sS0FJVnhRLEVBQUVzUSxHQUFRZixTQUNQaUIsT0FBUSxXQUdQLE1BRkFDLFNBQVN6USxFQUFFYSxNQUFNUSxLQUFLLGlCQUN0QnFQLE1BQVFELFFBQVE3SSxPQUFPMkksR0FDbkJHLE9BQVEsT0FXbkIxUSxFQUFFc1EsRUFBUyxlQUFlclEsR0FBSSxRQUFTLFNBQVNFLEdBQy9DQSxFQUFFQyxpQkFDRUosRUFBRWEsTUFBTXlFLFNBQVMsc0JBQ3BCdEYsRUFBRWEsTUFBTVksWUFBWSx1QkFFcEJ6QixFQUFFc1EsRUFBUyxlQUFlN08sWUFBWSxzQkFDdEN6QixFQUFFYSxNQUFNTixTQUFTLHVCQUVsQlAsRUFBRXNRLEdBQVFmLFFBQVEsWUFPcEJ6SixFQUFPQyxPQUFPOEgsc0JBQXdCQSxFQUN0Qy9ILEVBQU9DLE9BQU9nSSxtQkFBcUJBLEdBRWxDNUkiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDb250YWN0Rm9ybU1vZHVsZSA9IChmdW5jdGlvbigpIHtcblxuICAgIHZhciBpbml0Q29udGFjdEZvcm1MaXN0ZW5lciA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJChcIiNjb250YWN0LWZvcm0gLmJ0bi1zaXRlXCIpLm9uKCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImNsaWNrIGV2ZW50OiAuY29udGFjdC1zdWJtaXQgYnV0dG9uXCIpO1xuICAgICAgICAgICAgJCggXCIjY29udGFjdC1mb3JtXCIgKS5zdWJtaXQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIiNjb250YWN0LWZvcm1cIikuc3VibWl0KGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkZvcm0gc3VibWl0dGVkIGxpc3RlbmVyIGNhbGxlZFwiKTtcbiAgICAgICAgICAgIGlmICgkKFwiI2NvbnRhY3QtZm9ybSAuYnRuLXNpdGVcIikuYXR0cihcImRpc2FibGVkXCIpPT09dW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAkKFwiI2NvbnRhY3QtZm9ybSAuYnRuLXNpdGVcIikuYXR0cihcImRpc2FibGVkXCIsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgJChcIiNjb250YWN0LWZvcm0gLmJ0bi1zaXRlXCIpLmFkZENsYXNzKFwic3Bpbm5pbmdcIik7XG4gICAgICAgICAgICAgICAgJChcIiNjb250YWN0LWZvcm0gLmJ0bi1zaXRlXCIpLmFuaW1hdGVDc3MoXCJwdWxzZVwiKTtcblxuICAgICAgICAgICAgICAgIHZhciBpbnB1dEVsZW1lbnRzID0gJChcIiNjb250YWN0LWZvcm1cIikuZmluZCgnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcbiAgICAgICAgICAgICAgICB2YXIgZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgaW5wdXRFbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlID09IFwiY2hlY2tib3hcIiB8fCB0aGlzLnR5cGUgPT0gXCJyYWRpb1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtVmFsdWVzW3RoaXMubmFtZV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtVmFsdWVzW3RoaXMubmFtZV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZm9ybVZhbHVlcyA6IFwiICsgSlNPTi5zdHJpbmdpZnkoZm9ybVZhbHVlcykpO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcImFzc2V0cy9waHAvaGFuZGxlYWpheGZvcm0ucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1WYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQUpBWCBwb3N0IHJlc3VsdCByZXN1bHQgOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdkaXZbZGF0YS1lcnJvci1pZF0nKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvbnRhY3QtZm9ybSBpbnB1dCwgI2NvbnRhY3QtZm9ybSB0ZXh0YXJlYScpLnJlbW92ZUNsYXNzKCdmb3JtLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2VuZC1yZXN1bHQnKS50ZXh0KFwiXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVzdWx0LmVycm9ycykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlucHV0TmFtZSBpbiByZXN1bHQuZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgaW4gXCIgKyBpbnB1dE5hbWUgKyBcIjogXCIgKyByZXN1bHQuZXJyb3JzW2lucHV0TmFtZV0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2RpdltkYXRhLWVycm9yLWlkPVwiJyArIGlucHV0TmFtZSArICdcIl0nKS50ZXh0KHJlc3VsdC5lcnJvcnNbaW5wdXROYW1lXSkuaGlkZSgpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcqW25hbWU9XCInICsgaW5wdXROYW1lICsgJ1wiXScpLmFkZENsYXNzKCdmb3JtLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJypbbmFtZT1cIicgKyBpbnB1dE5hbWUgKyAnXCJdJykuYW5pbWF0ZUNzcygnc2hha2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBbGwgdmFsaWRhdGlvbiBwYXNzZWQgc3VjY2VzZnVsbHkhXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzZW5kLXJlc3VsdFwiKS50ZXh0KFwiVGhhbmsgeW91LiBZb3VyIG1lc3NhZ2UgaGFzIGJlZW4gc2VudC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzZW5kLXJlc3VsdFwiKS5yZW1vdmVDbGFzcygnYWxlcnQtZGFuZ2VyJykuYWRkQ2xhc3MoJ2FsZXJ0LXN1Y2Nlc3MnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjc2VuZC1yZXN1bHRcIikuc2hvdygpLmFuaW1hdGVDc3MoJ2JvdW5jZUluJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXQnKS52YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhJykudmFsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NlbmQtcmVzdWx0XCIpLmRlbGF5KDUwMDApLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzZW5kLXJlc3VsdFwiKS5yZW1vdmVDbGFzcygnYWxlcnQtc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzZW5kLXJlc3VsdFwiKS5hZGRDbGFzcygnYWxlcnQtZGFuZ2VyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NlbmQtcmVzdWx0XCIpLnRleHQoXCJTb3JyeS4uLiBZb3VyIG1lc3NhZ2UgY291bGQgbm90IGhhdmUgYmVlbiBkZWxpdmVyZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzZW5kLXJlc3VsdFwiKS5zbGlkZURvd24oKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2NvbnRhY3QtZm9ybSAuYnRuLXNpdGVcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNjb250YWN0LWZvcm0gLmJ0bi1zaXRlXCIpLnJlbW92ZUNsYXNzKFwic3Bpbm5pbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2NvbnRhY3QtZm9ybSAuYnRuLXNpdGVcIikuYW5pbWF0ZUNzcyhcInB1bHNlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTsgIC8vIHRoZSBlbmQgb2YgYWpheCBjYWxsIHRvIHBvc3QgZm9ybVZhbHVlc1xuXG4gICAgICAgICAgICB9IC8vIGVuZCBvZiBpZiBzdGF0ZW1lbnQ6IHByZWV2bnRzIHNlbmRpbmcgYWpheCByZXF1ZXN0IGlmIGFub3RoZXIgcmVxdWVzdCBpcyBhbHJlYWR5IHJ1bm5pbmdcblxuICAgICAgICB9KTsgLy8gdGhlIGVuZCBvZiBmb3JtIHN1Ym1pdCBmdW5jdGlvblxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXRDb250YWN0Rm9ybUxpc3RlbmVyOiBpbml0Q29udGFjdEZvcm1MaXN0ZW5lclxuICAgIH07XG5cbn0pKCk7XG4iLCIvLyAtLS0tLS0tLS0tIEdPT0dMRSBNQVAgLS0tLS0tLS0tLVxudmFyIE1hcE1vZHVsZSA9IChmdW5jdGlvbigpIHtcblxuICB2YXIgbXlNYXA7XG4gIHZhciBteVBvc2l0aW9uID0ge2xhdDogNTAuMDQ4ODIyLCBsbmc6IDE1LjIwMDI0Mn07XG5cbiAgdmFyIGluaXRDb250YWN0TWFwID0gZnVuY3Rpb24oKXtcblxuICAgICAgLy8gU3BlY2lmeSBmZWF0dXJlcyBhbmQgZWxlbWVudHMgdG8gZGVmaW5lIHN0eWxlcy5cbiAgICAgIHZhciBzdHlsZUFycmF5ID0gW1xuICAgICAgICB7XG4gICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcImFsbFwiLFxuICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJhbGxcIixcbiAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBcInNhdHVyYXRpb25cIjogLTEwMFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBcImdhbW1hXCI6IDAuNVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICAvLyBDcmVhdGUgYSBtYXAgb2JqZWN0IGFuZCBzcGVjaWZ5IHRoZSBET00gZWxlbWVudCBmb3IgZGlzcGxheS5cbiAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdC1tYXBcIiksIHtcbiAgICAgICAgICBjZW50ZXI6IG15UG9zaXRpb24sXG4gICAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxuICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiB0cnVlLFxuICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfQk9UVE9NXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYXBUeXBlQ29udHJvbDogdHJ1ZSxcbiAgICAgICAgICBtYXBUeXBlQ29udHJvbE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgcG9zaXRpb246IGdvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbi5CT1RUT01fTEVGVFxuICAgICAgICAgIH0sXG4gICAgICAgICAgem9vbUNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgem9vbUNvbnRyb2xPcHRpb25zOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfQ0VOVEVSXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBBcHBseSB0aGUgbWFwIHN0eWxlIGFycmF5IHRvIHRoZSBtYXAuXG4gICAgICAgICAgc3R5bGVzOiBzdHlsZUFycmF5LFxuICAgICAgICAgIHpvb206IDhcbiAgICAgIH0pO1xuXG4gICAgICBteU1hcCA9IG1hcDtcbiAgICAgIC8vIENyZWF0ZSBhIG1hcmtlciBhbmQgc2V0IGl0cyBwb3NpdGlvbi5cblxuICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgcG9zaXRpb246IG15UG9zaXRpb24sXG4gICAgICAgIHRpdGxlOiAnS2FtZW5pY3R2w60gRXJiZW4nLFxuICAgICAgICBpY29uOiB7XG4gICAgICAgICAgdXJsOiBcImFzc2V0cy9pbWFnZXMvSUVfbG9nb19yb3VuZGVkX3BvaW50ZXIucG5nXCIsXG4gICAgICAgICAgc2NhbGVkU2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoMTUwLCAxNTApXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBteU1hcC5wYW5CeSgwLCgtJChcIm5hdi5uYXZiYXJcIikuaGVpZ2h0KCkpKTtcblxuICAgIH1cblxuICAgIHZhciBwbGFjZUNvbnRhY3RMaXN0ZW5lcnMgPSBmdW5jdGlvbigpe1xuICBcdFx0JChcIi5idG4tbWFwXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG4gIFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgXHRcdFx0dmFyICR0aGlzPSQodGhpcyk7XG5cbiAgXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgXHRcdFx0XHRpZiAoJHRoaXMuY2hpbGRyZW4oKS5oYXNDbGFzcyhcImZhLWV4cGFuZFwiKSkge1xuICBcdFx0XHRcdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpXCIpLm1hdGNoZXMgJiYgd2luZG93LmlubmVyV2lkdGg8NzY3KSB7XG4gIFx0XHRcdFx0XHRcdCQoXCIjY29udGFjdC1tYXBcIikuYW5pbWF0ZSh7XG4gIFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjc1dmhcIlxuICBcdFx0XHRcdFx0XHR9LDUwMCwgZnVuY3Rpb24oKXtcbiAgXHRcdFx0XHRcdFx0XHRnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKG15TWFwLCBcInJlc2l6ZVwiKTtcbiAgXHRcdFx0XHRcdFx0XHRteU1hcC5zZXRDZW50ZXIobXlQb3NpdGlvbik7XG4gIFx0XHRcdFx0XHRcdFx0bXlNYXAucGFuQnkoMCwoLSQoXCJuYXYubmF2YmFyXCIpLmhlaWdodCgpKSk7XG4gIFx0XHRcdFx0XHRcdH0pO1xuICBcdFx0XHRcdFx0fSBlbHNlIHtcbiAgXHRcdFx0XHRcdFx0JChcIiNjb250YWN0LW1hcFwiKS5hbmltYXRlKHtcbiAgXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiNTB2aFwiXG4gIFx0XHRcdFx0XHRcdH0sNTAwLCBmdW5jdGlvbigpe1xuICBcdFx0XHRcdFx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIobXlNYXAsIFwicmVzaXplXCIpO1xuICBcdFx0XHRcdFx0XHRcdG15TWFwLnNldENlbnRlcihteVBvc2l0aW9uKTtcbiAgXHRcdFx0XHRcdFx0XHRteU1hcC5wYW5CeSgwLCgtJChcIm5hdi5uYXZiYXJcIikuaGVpZ2h0KCkpKTtcbiAgXHRcdFx0XHRcdFx0fSk7XG4gIFx0XHRcdFx0XHR9XG4gIFx0XHRcdFx0fVxuICBcdFx0XHR9LCBmYWxzZSk7XG5cbiAgXHRcdFx0aWYgKCR0aGlzLmNoaWxkcmVuKCkuaGFzQ2xhc3MoXCJmYS1leHBhbmRcIikpIHtcbiAgXHRcdFx0XHQkdGhpcy5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwiZmEtZXhwYW5kXCIpLmFkZENsYXNzKFwiZmEtY29tcHJlc3NcIik7XG4gIFx0XHRcdFx0JChcIiNjb250YWN0LW1hcFwiKS5hbmltYXRlKHtcbiAgXHRcdFx0XHRcdGhlaWdodDogXCIxMDB2aFwiXG4gIFx0XHRcdFx0fSw1MDAsIGZ1bmN0aW9uKCl7XG4gIFx0XHRcdFx0XHRnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKG15TWFwLCBcInJlc2l6ZVwiKTtcbiAgXHRcdFx0XHRcdG15TWFwLnNldENlbnRlcihteVBvc2l0aW9uKTtcbiAgXHRcdFx0XHRcdG15TWFwLnBhbkJ5KDAsKC0kKFwibmF2Lm5hdmJhclwiKS5oZWlnaHQoKSkpO1xuICBcdFx0XHRcdH0pO1xuICBcdFx0XHRcdHJldHVybjtcbiAgXHRcdFx0fSBlbHNlIGlmICgkdGhpcy5jaGlsZHJlbigpLmhhc0NsYXNzKFwiZmEtY29tcHJlc3NcIikpIHtcbiAgXHRcdFx0XHQkdGhpcy5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwiZmEtY29tcHJlc3NcIikuYWRkQ2xhc3MoXCJmYS1leHBhbmRcIik7XG4gIFx0XHRcdFx0aWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpXCIpLm1hdGNoZXMgJiYgd2luZG93LmlubmVyV2lkdGg8NzY3KSB7XG4gIFx0XHRcdFx0XHQkKFwiI2NvbnRhY3QtbWFwXCIpLmFuaW1hdGUoe1xuICBcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiNzV2aFwiXG4gIFx0XHRcdFx0XHR9LDUwMCwgZnVuY3Rpb24oKXtcbiAgXHRcdFx0XHRcdFx0Z29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihteU1hcCwgXCJyZXNpemVcIik7XG4gIFx0XHRcdFx0XHRcdG15TWFwLnNldENlbnRlcihteVBvc2l0aW9uKTtcbiAgXHRcdFx0XHRcdFx0bXlNYXAucGFuQnkoMCwoLSQoXCJuYXYubmF2YmFyXCIpLmhlaWdodCgpKSk7XG4gIFx0XHRcdFx0XHR9KTtcbiAgXHRcdFx0XHR9IGVsc2Uge1xuICBcdFx0XHRcdFx0JChcIiNjb250YWN0LW1hcFwiKS5hbmltYXRlKHtcbiAgXHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjUwdmhcIlxuICBcdFx0XHRcdFx0fSw1MDAsIGZ1bmN0aW9uKCl7XG4gIFx0XHRcdFx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIobXlNYXAsIFwicmVzaXplXCIpO1xuICBcdFx0XHRcdFx0XHRteU1hcC5zZXRDZW50ZXIobXlQb3NpdGlvbik7XG4gIFx0XHRcdFx0XHRcdG15TWFwLnBhbkJ5KDAsKC0kKFwibmF2Lm5hdmJhclwiKS5oZWlnaHQoKSkpO1xuICBcdFx0XHRcdFx0fSk7XG4gIFx0XHRcdFx0fVxuICBcdFx0XHR9XG4gIFx0XHR9KVxuICBcdH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXRDb250YWN0TWFwOmluaXRDb250YWN0TWFwLFxuICAgICAgICBwbGFjZUNvbnRhY3RMaXN0ZW5lcnM6cGxhY2VDb250YWN0TGlzdGVuZXJzXG4gICAgfVxuXG59KSgpO1xuIiwiJChmdW5jdGlvbihnbG9iYWwpe1xuXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwubXlTaXRlIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZ2xvYmFsLm15U2l0ZSA9e307XG4gICAgfVxuXG4gICAgdmFyIGNhcm91c2Vsc1NldHVwID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhcm91c2VsOiBcIiNtYWluLWNhcm91c2VsXCIsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6NzAwMCxcbiAgICAgICAgICAgICAgICBwYXVzZTogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWw6IFwiI2Fib3V0LWNhcm91c2VsXCIsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6NTAwMCxcbiAgICAgICAgICAgICAgICBwYXVzZTogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWw6IFwiI2Nhcm91c2VsVG9tYnN0b25lc1wiLFxuICAgICAgICAgICAgICAgIGludGVydmFsOjMwMDAsXG4gICAgICAgICAgICAgICAgcGF1c2U6IFwibm9uZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhcm91c2VsOiBcIiNjYXJvdXNlbEdhcmRlblwiLFxuICAgICAgICAgICAgICAgIGludGVydmFsOjMwMDAsXG4gICAgICAgICAgICAgICAgcGF1c2U6IFwibm9uZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhcm91c2VsOiBcIiNjYXJvdXNlbFJlc3RvcmF0aW9uc1wiLFxuICAgICAgICAgICAgICAgIGludGVydmFsOjMwMDAsXG4gICAgICAgICAgICAgICAgcGF1c2U6IFwibm9uZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhcm91c2VsOiBcIiNDYXJvdXNlbE1vbnVtZW50c1wiLFxuICAgICAgICAgICAgICAgIGludGVydmFsOjMwMDAsXG4gICAgICAgICAgICAgICAgcGF1c2U6IFwibm9uZVwiXG4gICAgICAgICAgICB9XG4gICAgXTtcblxuICAgICQoJy5sb2FkZXItd3JhcHBlcicpLmhpZGUoKTtcblxuICAgIC8vIC0tLS0tLS0tLS0gSlFVRVJZIEFOSU1BVEUgRVhURU5TSU9OIC0tLS0tLS0tLS1cbiAgICAkLmZuLmV4dGVuZCh7XG4gICAgICAgIGFuaW1hdGVDc3M6IGZ1bmN0aW9uIChhbmltYXRpb25OYW1lLCBjYWxsQmFja0Z1bmMpIHtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25FbmQgPSAnd2Via2l0QW5pbWF0aW9uRW5kIG1vekFuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kIGFuaW1hdGlvbmVuZCc7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKCdhbmltYXRlZCAnICsgYW5pbWF0aW9uTmFtZSkub25lKGFuaW1hdGlvbkVuZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgJyArIGFuaW1hdGlvbk5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY2FsbEJhY2tGdW5jKSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsQmFja0Z1bmMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyAtLS0tLS0tLS0tIENBUk9VU0VMUyBTRVRVUCAtLS0tLS0tLS0tXG4gICAgaW5pdENhcm91c2VscyA9IGZ1bmN0aW9uKGNhclNldHVwKSB7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxjYXJTZXR1cC5sZW5ndGgtMTtpKyspIHtcbiAgICAgICAgICAgICQoY2FyU2V0dXBbaV1bJ2Nhcm91c2VsJ10pLmNhcm91c2VsKHtcbiAgICAgICAgICAgICAgICBpbnRlcnZhbDogY2FyU2V0dXBbaV1bJ2ludGVydmFsJ11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2Fyb3VzZWxzIGluaXRpYWxpemVkXCIpO1xuICAgIH07XG5cbiAgICBpbml0Q2Fyb3VzZWxzKGNhcm91c2Vsc1NldHVwKTtcblxuICAgIGdsb2JhbC5teVNpdGUuY2Fyb3VzZWxzU2V0dXAgPSBjYXJvdXNlbHNTZXR1cDtcbiAgICBnbG9iYWwubXlTaXRlLmluaXRDYXJvdXNlbHMgPSBpbml0Q2Fyb3VzZWxzO1xuXG59KHdpbmRvdykpO1xuIiwiKGZ1bmN0aW9uKGdsb2JhbCwkKXtcblxuXHR2YXIgVVJMID0nLi9hc3NldHMvZGF0YS9sYW5nLmpzb24nO1xuXHR2YXIgc2l0ZUxhbmdzID0gW1wiY3pcIixcImVuXCJdO1xuXG5cdHZhciBMYW5nID0gZnVuY3Rpb24oYWN0aXZlTGFuZyl7XG5cdFx0cmV0dXJuIG5ldyBMYW5nLmluaXQoYWN0aXZlTGFuZyk7XG5cdH1cblxuXHRMYW5nLnByb3RvdHlwZSA9IHtcblx0XHRnZXRLZXlWYWw6IGZ1bmN0aW9uKGtleVZhbCl7XG5cdFx0XHRzZWxmID0gdGhpcztcblx0XHRcdHJldHVybiBmdW5jdGlvbigpe1xuXHRcdFx0XHRrZXlWYWwgPSBrZXlWYWwudHJpbSgpO1xuXHRcdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGkgPD0gTGFuZy5kYXRhLmxlbmd0aC0xOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoTGFuZy5kYXRhW2ldLmRhdGF0YWc9PT1rZXlWYWwpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IExhbmcuZGF0YVtpXVtzZWxmLmFjdGl2ZUxhbmddO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH0oKTtcblx0XHR9LFxuXHRcdHN3aXRjaExhbmc6IGZ1bmN0aW9uKHN3aXRjaFRvTGFuZyl7XG5cdFx0XHRzZWxmID0gdGhpcztcblx0XHRcdHZhciBudW1PZkxhbmdFbHMgPSAkKFwiW2RhdGEtbGFuZ11cIikubGVuZ3RoO1xuXHRcdFx0Zm9yICh2YXIgaSA9MDtpPD1udW1PZkxhbmdFbHMtMTtpKyspIHtcblx0XHRcdFx0dmFyIHJldHJpZXZlZERhdGFUYWcgPSAkKCQoXCJbZGF0YS1sYW5nXVwiKVtpXSkuZGF0YSgnbGFuZycpO1xuXHRcdFx0XHR2YWx1ZSA9IExORyQoc3dpdGNoVG9MYW5nKS5nZXRLZXlWYWwocmV0cmlldmVkRGF0YVRhZyk7XG5cdFx0XHRcdGlmICh2YWx1ZT09PXVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiTGFuZ3VhZ2UgdGFnICdcIiArIHJldHJpZXZlZERhdGFUYWcgICsgXCInIGlzIG5vdCBkZWZpbmVkIGluIGxhbmd1YWdlIGRhdGFiYXNlIGZvcjogXCIrc3dpdGNoVG9MYW5nKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAodmFsdWUudHJpbSgpIT09XCJcIikge1xuXHRcdFx0XHRcdFx0aWYgKHZhbHVlLnNlYXJjaChcIjxwaD5cIik+LTEpIHtcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHIoNCx2YWx1ZS5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0XHQkKCQoXCJbZGF0YS1sYW5nXVwiKVtpXSkuYXR0cihcInBsYWNlaG9sZGVyXCIsdmFsdWUpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JCgkKFwiW2RhdGEtbGFuZ11cIilbaV0pLnRleHQoTE5HJChzd2l0Y2hUb0xhbmcpLmdldEtleVZhbChyZXRyaWV2ZWREYXRhVGFnKSkuYW5pbWF0ZUNzcygncHVsc2UnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCQoJChcIltkYXRhLWxhbmddXCIpW2ldKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Z2V0U2VsZWN0ZWRMYW5nOiBmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuICQoXCIubGFuZy1zd2l0Y2hlcj5zcGFuXCIpLnRleHQoKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcblx0XHR9XG5cdH07XG5cblx0TGFuZy5pbml0ID0gZnVuY3Rpb24oYWN0aXZlTGFuZyl7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHNlbGYuYWN0aXZlTGFuZyA9IGFjdGl2ZUxhbmcgfHwgc2l0ZUxhbmdzWzBdO1xuXHR9XG5cblx0TGFuZy5pbml0LnByb3RvdHlwZSA9IExhbmcucHJvdG90eXBlO1xuXHRnbG9iYWwuTGFuZyA9IGdsb2JhbC5MTkckID0gTGFuZztcblxuXHRnZXRTZXJ2ZXJEYXRhKFVSTCxmdW5jdGlvbihkYXRhKXtcblx0XHRMYW5nLmRhdGEgPSBkYXRhO1xuXHRcdHZhciBpbml0TGFuZyA9ICQoXCIubGFuZy1zd2l0Y2hlcj5zcGFuXCIpLnRleHQoKS50cmltKCk7XG5cdFx0TE5HJChpbml0TGFuZykuc3dpdGNoTGFuZyhpbml0TGFuZyk7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGdldFNlcnZlckRhdGEodXJsLCBjYWxsYmFja0Z1bmMpIHtcblx0dmFyIHJlc3VsdCA9ICQuZ2V0SlNPTih1cmwsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coIFwiLS0tIHN1Y2Nlc3MgLS0tXCIgKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCBcImxhbmcgZGF0YSBsb2FkZWQuLi5cIiApO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHRcdFx0Y2FsbGJhY2tGdW5jKGRhdGEpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggXCItLS0gZXJyb3IgLS0tXCIgKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyggXCJjb21wbGV0ZVwiICk7XG5cdFx0XHRcdH0pO1xuXHR9O1xuXG59KHdpbmRvdywgalF1ZXJ5KSk7XG4iLCIvLyAtLS0tLS0tLS0tIE5BVklHQVRJT04gLS0tLS0tLS0tLVxuXG4kKGZ1bmN0aW9uKGdsb2JhbCl7XG5cdHZhciBhY3RpdmVMYW5nPScnO1xuXHR2YXIgcGFnZVN3aXRjaGluZ0FjdGl2ZT1mYWxzZTtcblx0Ly8ga2FtZW5pY3R2aS1lcmJlbi5jeiBnb29nbGUgbWFwcyBrZXkgPVwiQUl6YVN5RHNTVTg0V29peHZ2Q1o2RVY0OEJ0MTc3N04yTkxLSG1zXCJcblx0Ly8gc3RlaW5tZXR6LWVyYmVuLmRlIGdvb2dsZSBtYXBzIGtleSA9XCJBSXphU3lBMHFWS3BuZGZjb0lnUDVud3VKeG1INXEwdjVUU3ZFYzRcIlxuXHR2YXIgQVBJa2V5ID0gXCJBSXphU3lBMHFWS3BuZGZjb0lnUDVud3VKeG1INXEwdjVUU3ZFYzRcIjtcblxuXHRpZiAodHlwZW9mIGdsb2JhbC5teVNpdGUhPT0gXCJvYmplY3RcIikge1xuICBcdGdsb2JhbC5teVNpdGUgPXt9O1xuICB9XG5cblx0dmFyIHBhZ2VDYWxsYmFja0Z1bmMgPSB7XG5cdFx0bWFpbjogZnVuY3Rpb24oY2FsbGJhY2tGKXtcblx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2tGIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFja0YgPSBmdW5jdGlvbigpe307XG5cdFx0XHR9XG5cdFx0XHRteVNpdGUuaW5pdENhcm91c2VscyhteVNpdGUuY2Fyb3VzZWxzU2V0dXApO1xuXHRcdFx0cGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzKCk7XG5cdFx0XHRsaW5rVG9HYWxsZXJ5KCk7XG5cdFx0XHRpZiAoIWlzTW9iaWxlRmxhZykge1xuXHRcdFx0XHRpbml0UGFyYWxsYXgoXCIjcGFyYWxsYXgxXCIsXCIjcGFyYWxsYXgxID4gZGl2XCIpO1xuXHRcdFx0fVxuXHRcdFx0Y2FsbGJhY2tGKCk7XG5cdFx0XHRwYWdlU3dpdGNoaW5nQWN0aXZlID0gZmFsc2U7XG5cdFx0fSxcblx0XHRhYm91dDogZnVuY3Rpb24oY2FsbGJhY2tGKXtcblx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2tGIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFja0YgPSBmdW5jdGlvbigpe307XG5cdFx0XHR9XG5cdFx0XHRteVNpdGUuaW5pdENhcm91c2VscyhteVNpdGUuY2Fyb3VzZWxzU2V0dXApO1xuXHRcdFx0cGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzKCk7XG5cdFx0XHRpZiAoIWlzTW9iaWxlRmxhZykge1xuXHRcdFx0XHRpbml0UGFyYWxsYXgoXCIjcGFyYWxsYXgyXCIsXCIjcGFyYWxsYXgyID4gZGl2XCIpO1xuXHRcdFx0fVxuXHRcdFx0Y2FsbGJhY2tGKCk7XG5cdFx0XHRwYWdlU3dpdGNoaW5nQWN0aXZlID0gZmFsc2U7XG5cdFx0fSxcblx0XHRyZWFsaXNhdGlvbnM6IGZ1bmN0aW9uKGNhbGxiYWNrRil7XG5cdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRiE9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2tGID0gZnVuY3Rpb24oKXt9O1xuXHRcdFx0fVxuXHRcdFx0bXlTaXRlLmluaXRDb21taXNpb25zR2FsbGVyeShmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgbGFuZyA9IExORyQoKS5nZXRTZWxlY3RlZExhbmcoKTtcblx0XHRcdFx0TE5HJChsYW5nKS5zd2l0Y2hMYW5nKGxhbmcpO1xuXHRcdFx0XHRwbGFjZUp1bXBCdXR0b25MaXN0ZW5lcnMoKTtcblx0XHRcdFx0Y2FsbGJhY2tGKCk7XG5cdFx0XHRcdHBhZ2VTd2l0Y2hpbmdBY3RpdmUgPSBmYWxzZTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0cHJpY2luZzogZnVuY3Rpb24oY2FsbGJhY2tGKXtcblx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2tGIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFja0YgPSBmdW5jdGlvbigpe307XG5cdFx0XHR9XG5cdFx0XHRteVNpdGUuaW5pdFByaWNpbmdHYWxsZXJ5KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHZhciBsYW5nID0gTE5HJCgpLmdldFNlbGVjdGVkTGFuZygpO1xuXHRcdFx0XHRMTkckKGxhbmcpLnN3aXRjaExhbmcobGFuZyk7XG5cdFx0XHRcdHBsYWNlSnVtcEJ1dHRvbkxpc3RlbmVycygpO1xuXHRcdFx0XHRjYWxsYmFja0YoKTtcblx0XHRcdFx0cGFnZVN3aXRjaGluZ0FjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRjb250YWN0OiBmdW5jdGlvbihjYWxsYmFja0YscnVuTWFwSW5pdFNjcmlwdCl7XG5cdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRiE9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2tGID0gZnVuY3Rpb24oKXt9O1xuXHRcdFx0fVxuXHRcdFx0cnVuTWFwSW5pdFNjcmlwdCA9IHJ1bk1hcEluaXRTY3JpcHQgfHwgZmFsc2U7XG5cdFx0XHRpZiAocnVuTWFwSW5pdFNjcmlwdCkge1xuXHRcdFx0XHRDb250YWN0Rm9ybU1vZHVsZS5pbml0Q29udGFjdEZvcm1MaXN0ZW5lcigpO1xuXHRcdFx0XHRhZGRTY3JpcHQoXG5cdFx0XHRcdFx0XCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PVwiICsgQVBJa2V5ICsgXCImY2FsbGJhY2s9TWFwTW9kdWxlLmluaXRDb250YWN0TWFwXCIsXG5cdFx0XHRcdFx0XCJib2R5XCIsXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdE1hcE1vZHVsZS5wbGFjZUNvbnRhY3RMaXN0ZW5lcnMoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrRigpO1xuXHRcdFx0XHRcdFx0cGFnZVN3aXRjaGluZ0FjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0TWFwTW9kdWxlLmluaXRDb250YWN0TWFwKCk7XG5cdFx0XHRcdE1hcE1vZHVsZS5wbGFjZUNvbnRhY3RMaXN0ZW5lcnMoKTtcblx0XHRcdFx0Q29udGFjdEZvcm1Nb2R1bGUuaW5pdENvbnRhY3RGb3JtTGlzdGVuZXIoKTtcblx0XHRcdFx0Y2FsbGJhY2tGKCk7XG5cdFx0XHRcdHBhZ2VTd2l0Y2hpbmdBY3RpdmUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBpc19tb2JpbGUoKSB7XG5cdCAgICB2YXIgYWdlbnRzID0gWydhbmRyb2lkJywgJ3dlYm9zJywgJ2lwaG9uZScsICdpcGFkJywgJ2JsYWNrYmVycnknXTtcblx0ICAgIGZvcihpIGluIGFnZW50cykge1xuXHQgICAgICAgIGlmKChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuc2VhcmNoKGFnZW50c1tpXSk+LTEpICYmICh3aW5kb3cub3JpZW50YXRpb24hPT11bmRlZmluZWQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fTtcblxuXHR2YXIgaXNNb2JpbGVGbGFnID0gaXNfbW9iaWxlKCk7XG5cdGdsb2JhbC5teVNpdGUuaXNNb2JpbGVGbGFnID0gaXNNb2JpbGVGbGFnO1xuXG5cdGlmIChpc01vYmlsZUZsYWc9PT10cnVlKSB7XG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJpc01vYmlsZVwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG5hdk1lbnVJbml0KCkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJuYXZNZW51IGluaXRpYWxpemVkXCIpO1xuXHRcdFx0dmFyIGNhY2hlZFBhZ2U9e307XG5cdFx0XHQkY2FjaGVkSXRlbXMgPSAkKFwiI21haW5OYXZiYXIgW2RhdGEtbWVudWl0ZW1dXCIpO1xuXHRcdFx0JCgkY2FjaGVkSXRlbXMpLmVhY2goZnVuY3Rpb24oaW5kZXgsdmFsdWUpe1xuXHRcdFx0XHRjYWNoZWRQYWdlWyQodmFsdWUpLmRhdGEoJ21lbnVpdGVtJyldID0gXCJcIjtcblx0XHRcdH0pO1xuXHRcdFx0Z2xvYmFsLm15U2l0ZS5jYWNoZWRQYWdlID0gY2FjaGVkUGFnZTtcblxuXHRcdFx0Ly9wbGFjZUxhbmdTd2l0Y2hMaXN0ZW5lcih0cnVlKTtcblx0XHQgICQoJyNtYWluTmF2YmFyJykub24oJ3Nob3cuYnMuY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JCgnLm5hdmJhciAubmF2YmFyLWNvbGxhcHNlJykucmVtb3ZlQ2xhc3MoJ29yZGVyLTInKS5hZGRDbGFzcygnb3JkZXItNScpO1xuXHQgIFx0XHRcdCQoXCIuaGFtYnVyZ2VyX19tZW51LWljb25cIikuYWRkQ2xhc3MoXCJoYW1idXJnZXJfX21lbnUtaWNvbi0tY2xvc2UteFwiKTtcblx0XHRcdH0pXG5cdFx0XHQkKCcjbWFpbk5hdmJhcicpLm9uKCdoaWRkZW4uYnMuY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JCgnLm5hdmJhciAubmF2YmFyLWNvbGxhcHNlJykucmVtb3ZlQ2xhc3MoJ29yZGVyLTUnKS5hZGRDbGFzcygnb3JkZXItMicpO1xuXHRcdFx0fSlcblx0IFx0XHQkKCcjbWFpbk5hdmJhcicpLm9uKCdoaWRlLmJzLmNvbGxhcHNlJywgZnVuY3Rpb24gKCkge1xuXHQgIFx0XHRcdCQoXCIuaGFtYnVyZ2VyX19tZW51LWljb25cIikucmVtb3ZlQ2xhc3MoXCJoYW1idXJnZXJfX21lbnUtaWNvbi0tY2xvc2UteFwiKTtcblx0XHRcdH0pXG5cblx0ICAgICQoJy5uYXYtaXRlbScpLm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGlmICghcGFnZVN3aXRjaGluZ0FjdGl2ZSkge1xuXHRcdFx0XHRcdFx0dmFyIG1lbnVOYW1lID0gJCh0aGlzKS5jaGlsZHJlbignLm5hdi1saW5rJykuZGF0YSgnbWVudWl0ZW0nKS50cmltKCkudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBcdHZhciB1cmwgPSAkKHRoaXMpLmNoaWxkcmVuKCcubmF2LWxpbmsnKS5hdHRyKCdocmVmJykudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnBhcmVudCgpLmNoaWxkcmVuKCcubmF2LWl0ZW0nKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0XHRcdFx0XHRuYXZJdGVtQ2xpY2tDYWxsYmFjayhtZW51TmFtZSx1cmwpO1xuXHRcdFx0XHRcdH1cblx0ICAgIH0pOyAvLyBlbmQgb2YgY2xpY2sgbGlzdGVuZXJcblx0fVxuXG5cdGZ1bmN0aW9uIG5hdkl0ZW1DbGlja0NhbGxiYWNrIChtZW11SXRlbU5hbWUsdXJsLGNhbGxiYWNrRnVuYykge1xuXHRcdC8vY29uc29sZS5sb2cobWVtdUl0ZW1OYW1lLGVsZW0sdXJsLGNhbGxiYWNrRnVuYyk7XG5cdFx0cGFnZVN3aXRjaGluZ0FjdGl2ZSA9IHRydWU7XG5cdFx0aWYgKHR5cGVvZiBtZW51SXRlbU5hbWUgIT09ICdzdHJpbmcnKSB7bWVudUl0ZW1OYW1lPScnfTtcblx0XHRsYW5nID0gTE5HJCgpLmdldFNlbGVjdGVkTGFuZygpO1xuXHRcdHVybCA9IHVybCB8fCAnJztcblx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRnVuYyE9PSdmdW5jdGlvbicpIHtcblx0XHRcdGNhbGxiYWNrRnVuYyA9IGZ1bmN0aW9uKCl7fTtcblx0XHR9XG5cblx0XHQvL2Nsb3NlIHRoZSBtb2JpbGUgbWVudSBpZiBpdCBpcyBvcGVuZWRcblx0XHQkKCcjbWFpbk5hdmJhcicpLmNvbGxhcHNlKCdoaWRlJyk7XG5cblx0XHQkKCcjYWpheC1jb250YWluZXInKS5mYWRlT3V0KDUwMCwgZnVuY3Rpb24oKXtcblx0XHRcdCQoJyNhamF4LWNvbnRlbnQnKS5oaWRlKCk7XG5cdFx0XHQkKCcubG9hZGVyLXdyYXBwZXInKS5mYWRlSW4oNTAwKTtcblx0XHRcdCQoXCJib2R5LGh0bWxcIikuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSwgJzUwJyk7XG5cdFx0XHQkKHRoaXMpLnJlbW92ZSgpO1xuXG5cdFx0XHRpZiAobXlTaXRlLmNhY2hlZFBhZ2VbbWVtdUl0ZW1OYW1lXT09PScnKSB7XG5cdFx0XHRcdC8vIGRvIHRoZSBmb2xsb3dpbmcgaWYgdGhlIHBhZ2UgbmVlZHMgdG8gYmUgbG9hZGVkIGZvciB0aGUgZmlyc3QgdGltZShub3QgY2FjaGVkIHlldClcblx0XHRcdFx0Ly8gc3RhcnQgb2YgdGhlIGFqYXggbG9hZCBmdW5jdGlvblxuXHRcdFx0XHQkKCcjYWpheC1jb250ZW50JykubG9hZCh1cmwgKyAnICNhamF4LWNvbnRhaW5lcicsIGZ1bmN0aW9uKHJlc3VsdCxzdGF0dXMpe1xuXHRcdFx0XHRcdGlmIChzdGF0dXMgPT09IFwic3VjY2Vzc1wiKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkxvYWRlZCAnXCIgKyBtZW11SXRlbU5hbWUgKyBcIicgZnJvbSBTRVJWRVIuLi5cIik7XG5cdFx0XHRcdFx0XHR1cGRhdGVQYWdlKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdExORyQobGFuZykuc3dpdGNoTGFuZyhsYW5nKTtcblx0XHRcdFx0XHRcdFx0bXlTaXRlLmNhY2hlZFBhZ2VbbWVtdUl0ZW1OYW1lXT0kKHJlc3VsdCkuZmluZChcIiNhamF4LWNvbnRhaW5lclwiKTtcblx0XHRcdFx0XHRcdFx0bWVtdUl0ZW1OYW1lID09PSdjb250YWN0JyA/IG1hcEluaXRGbGFnID0gdHJ1ZSA6IG1hcEluaXRGbGFnID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdHBhZ2VDYWxsYmFja0Z1bmNbbWVtdUl0ZW1OYW1lXShjYWxsYmFja0Z1bmMsbWFwSW5pdEZsYWcpO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKHN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG5cdFx0XHRcdFx0XHQkKCcubG9hZGVyLXdyYXBwZXInKS5oaWRlKCk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkVycm9yIGxvYWRpbmcgZnJvbSBzZXJ2ZXIuLi5cIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0pOyAvLyBlbmQgb2YgYWpheCBsb2FkIGZ1bmN0aW9uXG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vaWYgdGhlIHBhZ2UgaXMgYWxyZWFkeSBjYWNoZWQuLi5cblx0XHRcdFx0Y29uc29sZS5sb2coXCJMb2FkZWQgJ1wiICsgbWVtdUl0ZW1OYW1lICsgXCInIGZyb20gQ0FDSEUuLi5cIik7XG5cdFx0XHRcdCQobXlTaXRlLmNhY2hlZFBhZ2VbbWVtdUl0ZW1OYW1lXSkuYXBwZW5kVG8oJyNhamF4LWNvbnRlbnQnKTtcblx0XHRcdFx0dXBkYXRlUGFnZShmdW5jdGlvbigpe1xuXHRcdFx0XHRcdExORyQobGFuZykuc3dpdGNoTGFuZyhsYW5nKTtcblx0XHRcdFx0XHRwYWdlQ2FsbGJhY2tGdW5jW21lbXVJdGVtTmFtZV0oY2FsbGJhY2tGdW5jKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7ICAvLyBlbmQgb2YgZmFkZU91dCBmdW5jdGlvblxuXHR9IC8vIGVuZCBvZiBuYXZJdGVtQ2xpY2tDYWxsYmFjayBmdW5jdGlvblxuXG5cdC8vaGVscGVyIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgcGFnZSB3aGVuIGNsaWNraW5nIG9uIG1lbnVcblx0ZnVuY3Rpb24gdXBkYXRlUGFnZShjYWxsYmFja0Z1bmMpe1xuXHRcdGlmICh0eXBlb2YgY2FsbGJhY2tGdW5jIT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2tGdW5jID0gZnVuY3Rpb24oKXt9O1xuXHRcdH1cblx0XHQkKCcjYWpheC1jb250YWluZXInKS5zaG93KCk7XG5cdFx0JCgnLmxvYWRlci13cmFwcGVyJykuaGlkZSgpO1xuXHRcdCQoJyNhamF4LWNvbnRlbnQnKS5mYWRlSW4oNTAwLGZ1bmN0aW9uKCl7XG5cdFx0XHRjYWxsYmFja0Z1bmMoKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vaGVscGVyIGZ1bmN0aW9uIHRvIGxvYWQgZ29vZ2xlIG1hcHMgc2NyaXB0XG5cdGZ1bmN0aW9uIGFkZFNjcmlwdCggc3JjLCBlbCxjYWxsYmFja0YgKSB7XG5cdFx0aWYgKHR5cGVvZiBjYWxsYmFja0YhPT1cImZ1bmN0aW9uXCIpIHtcblx0XHRcdGNhbGxiYWNrRj1mdW5jdGlvbigpe307XG5cdFx0fVxuXHRcdCQoZWwpLmFwcGVuZCgkKFwiPHNjcmlwdCAvPlwiLCB7XG5cdFx0XHRzcmM6IHNyYyxcblx0XHRcdGFzeW5jOiB0cnVlLFxuXHRcdFx0ZGVmZXI6IHRydWVcblx0XHR9KSk7XG5cdFx0Y2FsbGJhY2tGKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBwbGFjZUp1bXBCdXR0b25MaXN0ZW5lcnMoKSB7XG5cdFx0Y2xlYXJJbnRlcnZhbChteVNpdGUuYnRuSW50ZXJ2YWwpO1xuXHRcdG15U2l0ZS5idG5JbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgJChcIi5idG4tZG93blwiKS5hbmltYXRlQ3NzKFwiYm91bmNlXCIpO1xuICAgIH0sMzAwMCk7XG5cblx0XHR2YXIgb2ZmU2V0WT0wO1xuXHRcdCQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGFjdHVhbEhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0XHRcdHZhciBhY3R1YWxTY3JvbGxQb3MgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cblx0XHRcdG9mZlNldFkgPSBhY3R1YWxIZWlnaHQvNTtcblxuXHRcdFx0aWYgKGFjdHVhbFNjcm9sbFBvczwwKSB7YWN0dWFsU2Nyb2xsUG9zPTB9O1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKGFjdHVhbEhlaWdodCxhY3R1YWxTY3JvbGxQb3MpO1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhhY3R1YWxIZWlnaHQtb2ZmU2V0WSxhY3R1YWxTY3JvbGxQb3MpO1xuXG5cdFx0XHRpZiAoKChhY3R1YWxIZWlnaHQtb2ZmU2V0WSkvYWN0dWFsU2Nyb2xsUG9zKT4xKSB7XG5cdFx0XHRcdGlmICgkKCcuYnRuLW1vdmUtdXAnKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG5cdFx0XHRcdFx0JChcIi5idG4tbW92ZS11cFwiKS5hbmltYXRlQ3NzKCdib3VuY2VPdXQnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0JChcIi5idG4tbW92ZS11cFwiKS5oaWRlKCk7XG5cdFx0XHRcdFx0XHQkKFwiLmJ0bi1kb3duXCIpLnNob3coKS5hbmltYXRlQ3NzKCdib3VuY2VJbicpO1xuXHRcdFx0XHRcdFx0Ly8kKFwiLmJ0bi1kb3duXCIpLmFuaW1hdGVDc3MoJ2JvdW5jZUluJyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCEkKCcuYnRuLW1vdmUtdXAnKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gXHRcdFx0XHRcdCQoXCIuYnRuLWRvd25cIikuYW5pbWF0ZUNzcygnYm91bmNlT3V0JyxmdW5jdGlvbigpe1xuIFx0XHRcdFx0XHRcdCQoXCIuYnRuLWRvd25cIikuaGlkZSgpO1xuIFx0XHRcdFx0XHRcdCQoXCIuYnRuLW1vdmUtdXBcIikuc2hvdygpO1xuIFx0XHRcdFx0XHRcdCQoXCIuYnRuLW1vdmUtdXBcIikuYW5pbWF0ZUNzcygnYm91bmNlSW4nKTtcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0JChcIi5idG4tbW92ZS11cFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG5cdFx0XHQkKFwiYm9keSxodG1sXCIpLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6MH0sICc3MDAnLCBcInN3aW5nXCIpO1xuXHRcdH0pO1xuXHRcdCQoXCIuYnRuLWRvd25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciBqdW1wSGFzaCA9IGUuY3VycmVudFRhcmdldC5oYXNoO1xuXHRcdFx0dmFyIGp1bXBQb2ludCA9ICQoanVtcEhhc2gpLm9mZnNldCgpLnRvcDtcblx0XHRcdCQoXCJib2R5LGh0bWxcIikuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDpqdW1wUG9pbnR9LCAnNzAwJywgXCJzd2luZ1wiKTtcblx0XHR9KTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gcGxhY2VMYW5nU3dpdGNoTGlzdGVuZXIoKSB7XG5cdFx0dmFyIGFjdGl2ZUxhbmd1YWdlcyA9W107XG5cdFx0dmFyIGxhbmd1YWdlcyA9IHtcblx0XHRcdFwiY3pcIjpmYWxzZSxcblx0XHRcdFwiZW5cIjp0cnVlLFxuXHRcdFx0XCJkZVwiOnRydWVcblx0XHR9O1xuXHRcdGFjdGl2ZUxhbmcgPSBMTkckKCkuZ2V0U2VsZWN0ZWRMYW5nKCk7XG5cblx0XHQkLmVhY2gobGFuZ3VhZ2VzLCBmdW5jdGlvbihpbmRleCx2YWx1ZSl7XG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0YWN0aXZlTGFuZ3VhZ2VzLnB1c2goaW5kZXgpO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHQkKFwiLmxhbmctc3dpdGNoZXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG5leHQgPSBhY3RpdmVMYW5ndWFnZXMuaW5kZXhPZihhY3RpdmVMYW5nKSsxO1xuXHRcdFx0aWYgKCFpc0xhbmdEZWZpbmVkKGFjdGl2ZUxhbmd1YWdlcyxhY3RpdmVMYW5nKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRuZXh0ID09PSBhY3RpdmVMYW5ndWFnZXMubGVuZ3RoID8gbmV4dD0wIDogbmV4dD1uZXh0O1xuXHRcdFx0YWN0aXZlTGFuZyA9IGFjdGl2ZUxhbmd1YWdlc1tuZXh0XTtcblx0XHRcdCQoXCIubGFuZy1zd2l0Y2hlcj5zcGFuXCIpLnRleHQoYWN0aXZlTGFuZyk7XG5cdFx0XHRMTkckKGFjdGl2ZUxhbmcpLnN3aXRjaExhbmcoYWN0aXZlTGFuZyk7XG5cdFx0XHQkKHRoaXMpLmFuaW1hdGVDc3MoXCJib3VuY2VJblwiKTtcblx0XHR9KTtcblxuXHRcdGZ1bmN0aW9uIGlzTGFuZ0RlZmluZWQoYWN0aXZlTGFuZ3MsbGFuZ1RvQ2hlY2spe1xuXHRcdFx0aWYgKHR5cGVvZiBhY3RpdmVMYW5ncyAhPT0nb2JqZWN0Jykge1xuXHRcdFx0XHRhY3RpdmVMYW5ncyA9IGFjdGl2ZUxhbmdzIHx8IFtdO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGVvZiBsYW5nVG9DaGVjayAhPT0nc3RyaW5nJykge1xuXHRcdFx0XHRsYW5nVG9DaGVjayA9IGxhbmdUb0NoZWNrIHx8IFwiXCI7XG5cdFx0XHR9XG5cdFx0XHR2YXIgaXNEZWZpbmVkID0gZmFsc2U7XG5cdFx0XHR2YXIgaW5kID0gYWN0aXZlTGFuZ3MuaW5kZXhPZihsYW5nVG9DaGVjayk7XG5cdFx0XHRpZiAoaW5kID09PSAtMSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcImVycm9yOiBsYW5ndWFnZTogJ1wiKyBsYW5nVG9DaGVjayArXCInIHdpdGhpbiAnaW5kZXguaHRtbCcgZmlsZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGxhbmd1YWdlcyBkZWZpbmVkLlwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlzRGVmaW5lZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaXNEZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGxpbmtUb0dhbGxlcnkoKXtcblx0XHRjb25zb2xlLmxvZygnbGlua3MgdG8gZ2FsbGVyeSBpbml0aWFsaXplZC4uLicpO1xuXHRcdCQoXCIuYnRuLXNpdGVcIikub24oJ2NsaWNrJyxmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQ7XG5cdFx0XHR2YXIgYWN0aXZlTGFuZyA9IExORyQoKS5nZXRTZWxlY3RlZExhbmcoKTtcblx0XHRcdHZhciBnYWxMaW5rID0gJCh0aGlzKS5kYXRhKCdsaW5rJykudG9Mb3dlckNhc2UoKS50cmltKCk7XG5cdFx0XHR2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRpZiAodXJsLnNlYXJjaChcImluZGV4Lmh0bWxcIikgPj0gMCApIHtcblx0XHRcdFx0dXJsID0gdXJsLnJlcGxhY2UoXCJpbmRleC5odG1sXCIsXCJyZWFsaXNhdGlvbnMuaHRtbFwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVybCA9IHVybCArIFwicmVhbGlzYXRpb25zLmh0bWxcIjtcblx0XHRcdH1cblx0XHRcdCQoXCIubmF2LWl0ZW1cIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0XHQkKFwiW2RhdGEtbWVudWl0ZW09J3JlYWxpc2F0aW9ucyddXCIpLnBhcmVudCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG5cdFx0XHRuYXZJdGVtQ2xpY2tDYWxsYmFjaygncmVhbGlzYXRpb25zJyx1cmwsZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQkKFwiLmZpbHRlci1pdGVtXCIpLmVhY2goZnVuY3Rpb24oaSl7XG5cdFx0XHRcdFx0XHRpZiAoJCh0aGlzKS5kYXRhKCdsYW5nJykgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoJCh0aGlzKS5kYXRhKCdsYW5nJykudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IGdhbExpbmspIHtcblx0XHRcdFx0XHRcdFx0XHQkKHRoaXMpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBpbml0UGFyYWxsYXgodHJpZ2dlckVsZW1lbnQsdHdlZW5FbGVtZW50KSB7XG5cdFx0Y29uc29sZS5sb2coXCJwYXJhbGxheCAnXCIrIHRyaWdnZXJFbGVtZW50ICtcIicgaW5pdGlhbGl6ZWRcIik7XG5cdFx0dHJpZ2dlckVsZW1lbnQgPSB0cmlnZ2VyRWxlbWVudCB8fCBcIlwiO1xuXHRcdHR3ZWVuRWxlbWVudCA9IHR3ZWVuRWxlbWVudCB8fCBcIlwiO1xuXHRcdGlmICghaXNNb2JpbGVGbGFnKSB7XG5cdCAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgU2Nyb2xsTWFnaWMuQ29udHJvbGxlcih7Z2xvYmFsU2NlbmVPcHRpb25zOiB7dHJpZ2dlckhvb2s6IFwib25FbnRlclwiLCBkdXJhdGlvbjogXCIxMDAlXCJ9fSk7XG5cdCAgICAgICAgdmFyIHBhcmFsbGF4MSA9IG5ldyBTY3JvbGxNYWdpYy5TY2VuZSh7dHJpZ2dlckVsZW1lbnQ6IHRyaWdnZXJFbGVtZW50fSlcblx0ICAgICAgICAgICAgLnNldFR3ZWVuKHR3ZWVuRWxlbWVudCwge3k6IFwiNTAlXCIsIGVhc2U6IExpbmVhci5lYXNlTm9uZX0pXG5cdCAgICAgICAgICAgIC8vLmFkZEluZGljYXRvcnMoe25hbWU6IHRyaWdnZXJFbGVtZW50fSlcblx0ICAgICAgICAgICAgLmFkZFRvKGNvbnRyb2xsZXIpO1xuXHQgICAgfVxuXHR9XG5cblx0JCh3aW5kb3cpLm9uKCdsb2FkJyxmdW5jdGlvbigpe1xuXHRcdGxpbmtUb0dhbGxlcnkoKTtcblx0XHRuYXZNZW51SW5pdCgpO1xuXHRcdHBsYWNlSnVtcEJ1dHRvbkxpc3RlbmVycygpO1xuXHRcdHBsYWNlTGFuZ1N3aXRjaExpc3RlbmVyKCk7XG5cdFx0aW5pdFBhcmFsbGF4KFwiI3BhcmFsbGF4MVwiLFwiI3BhcmFsbGF4MSA+IGRpdlwiKTtcblx0fSk7XG5cblx0Z2xvYmFsLm15U2l0ZS5uYXZNZW51SW5pdCA9IG5hdk1lbnVJbml0O1xuXHRnbG9iYWwubXlTaXRlLmxpbmtUb0dhbGxlcnkgPSBsaW5rVG9HYWxsZXJ5O1xuXHRnbG9iYWwubXlTaXRlLm5hdkl0ZW1DbGlja0NhbGxiYWNrID0gbmF2SXRlbUNsaWNrQ2FsbGJhY2s7XG5cdGdsb2JhbC5teVNpdGUucGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzID0gcGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzO1xuXHRnbG9iYWwubXlTaXRlLnBsYWNlTGFuZ1N3aXRjaExpc3RlbmVyID0gcGxhY2VMYW5nU3dpdGNoTGlzdGVuZXI7XG5cdGdsb2JhbC5teVNpdGUuaW5pdFBhcmFsbGF4ID0gaW5pdFBhcmFsbGF4O1xuXG59KHdpbmRvdykpO1xuIiwiLy8gLS0tLS0tLS0tLSBQT1JURk9MSU8gRklMVEVSIC0tLS0tLS0tLS1cbiQoZnVuY3Rpb24oZ2xvYmFsKXtcblxuXHRmdW5jdGlvbiBpbml0Q29tbWlzaW9uc0dhbGxlcnkoY2FsbGJhY2tGdW5jKXtcblx0XHR2YXIgYWN0aXZlTGFuZyA9IExORyQoKS5nZXRTZWxlY3RlZExhbmcoKTtcblx0XHRjb25zb2xlLmxvZyhcImluaXRDb21taXNpb25zR2FsbGVyeSBjYWxsZWRcIik7XG5cdFx0dHlwZW9mIGNhbGxiYWNrRnVuYz09PVwiZnVuY3Rpb25cIiA/IGNhbGxiYWNrRnVuYyA9IGNhbGxiYWNrRnVuYyA6IGNhbGxiYWNrRnVuYyA9IGZ1bmN0aW9uKCl7fTtcblxuXHRcdHZhciBicm9rZW5Db3VudCA9IDA7XG5cblx0XHQkKFwiLmdyaWQtaXRlbT4uaW1nLXJlc3VsdC13cmFwcGVyXCIpLmhpZGUoKTtcblx0XHQkKFwiLmdyaWQtaXRlbT4uaW1nLWxvYWRlci13cmFwcGVyXCIpLnNob3coKTtcblx0XHQkKFwiLmdyaWQ+LmdyaWQtaXRlbVwiKS5hZGRDbGFzcyhcImhvdmVyLW9mZlwiKTtcblxuXHRcdCQoJyNwb3J0Zm9saW9zJykuaW1hZ2VzTG9hZGVkKClcblx0XHQgIC5hbHdheXMoIGZ1bmN0aW9uKCBpbnN0YW5jZSApIHtcblx0XHQgICAgY29uc29sZS5sb2coXCJhbGwgaW1hZ2VzIG9mICdDb21taXNpb25zIG1lbnUnIGxvYWRlZFwiKTtcblxuXHRcdFx0aW5zdGFudGlhdGVJc290b3BlR2FsbGVyeShcIi5ncmlkXCIse1xuXHRcdCAgXHRcdGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxuXHRcdCAgXHRcdHN0YWdnZXI6IDMwXG5cdFx0XHR9KTtcblxuXHRcdCAgICBidWlsZEltZ0NhdGVnb3JpZXMoXCIjZmlsdGVyLXBvcnRmb2xpb1wiLFwiI3BvcnRmb2xpby1nYWxsZXJ5IC5ncmlkLWl0ZW1cIik7XG5cdFx0ICAgIHBsYWNlRmlsdGVyTGlzdGVuZXJzKFwiLmdyaWRcIik7XG5cblx0XHRcdCQoXCIuZ3JpZC1pdGVtPi5pbWctcmVzdWx0LXdyYXBwZXJcIikuZmFkZU91dCgxMDAwKTtcblx0XHQgICAgJChcIi5pbWctbG9hZGVyPi5pbWctbG9hZGVyLXRleHRcIikudGV4dChcImltYWdlcyBsb2FkZWRcIik7XG5cdFx0ICAgICQoXCIuaW1nLWxvYWRlci1iYXJcIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiZ3JlZW5cIik7XG5cdFx0ICAgICQoXCIuaW1nLWxvYWRlclwiKS5kZWxheSgzMDAwKS5zbGlkZVVwKDEwMDApO1xuXHRcdCAgICAkKFwiLmdyaWQ+LmdyaWQtaXRlbVwiKS5yZW1vdmVDbGFzcyhcImhvdmVyLW9mZlwiKTtcblxuXHRcdCAgICBjYWxsYmFja0Z1bmMoKTtcblxuXHRcdCAgfSlcblx0XHQgIC5kb25lKCBmdW5jdGlvbigpIHtcblx0XHQgICAgY29uc29sZS5sb2coXCJhbGwgaW1hZ2VzIG9mICdDb21taXNpb25zIG1lbnUnIHN1Y2Nlc3NmdWxseSBsb2FkZWRcIik7XG5cdFx0XHRcdExORyQoYWN0aXZlTGFuZykuc3dpdGNoTGFuZyhhY3RpdmVMYW5nKTtcblx0XHQgIH0pXG5cdFx0ICAuZmFpbCggZnVuY3Rpb24oKSB7XG5cdFx0ICAgIGNvbnNvbGUubG9nKCBicm9rZW5Db3VudCArIFwiIG9mICdDb21taXNpb25zIG1lbnUnIGltYWdlcyBoYXZlIGJyb2tlbiBsaW5rcy4gQ2hlY2sgeW91ciBpbWFnZSBwYXRocy5cIik7XG5cdFx0ICAgICQoXCIuaW1nLWxvYWRlclwiKS5kZWxheSgzMDAwKS5zbGlkZVVwKDEwMDApO1xuXHRcdCAgfSlcblx0XHQucHJvZ3Jlc3MoIGZ1bmN0aW9uKCBpbnN0YW5jZSwgaW1hZ2UgKSB7XG5cblx0XHQgICAgaWYgKGltYWdlLmlzTG9hZGVkKSB7XG5cdFx0ICAgIFx0JChpbWFnZS5pbWcpLnNpYmxpbmdzKFwiLmltZy1sb2FkZXItd3JhcHBlclwiKS5oaWRlKCk7XG5cdFx0ICAgIFx0JChpbWFnZS5pbWcpLnNpYmxpbmdzKFwiLmltZy1yZXN1bHQtd3JhcHBlclwiKS5hbmltYXRlQ3NzKFwiYm91bmNlSW5cIikuc2hvdygpO1xuXHRcdFx0XHQkKFwiLmltZy1sb2FkZXItYmFyXCIpLndpZHRoKChpbnN0YW5jZS5wcm9ncmVzc2VkQ291bnQvaW5zdGFuY2UuaW1hZ2VzLmxlbmd0aCkqMTAwICsgXCIlXCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnJva2VuQ291bnQrKztcblx0XHRcdFx0JChpbWFnZS5pbWcpLnBhcmVudCgpLnJlbW92ZSgpO1xuXHRcdFx0fVxuXG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0UHJpY2luZ0dhbGxlcnkoY2FsbGJhY2tGdW5jKXtcblx0XHR0eXBlb2YgY2FsbGJhY2tGdW5jPT09XCJmdW5jdGlvblwiID8gY2FsbGJhY2tGdW5jID0gY2FsbGJhY2tGdW5jIDogY2FsbGJhY2tGdW5jID0gZnVuY3Rpb24oKXt9O1xuXG5cdFx0dmFyIGJyb2tlbkNvdW50ID0gMDtcblx0XHQkKFwiLmdyaWQtcHJpY2luZz4uZ3JpZC1pdGVtLXByaWNpbmdcIikuYWRkQ2xhc3MoXCJob3Zlci1vZmZcIik7XG5cblx0XHQkKFwiI3ByaWNpbmdcIikuaW1hZ2VzTG9hZGVkKClcblx0XHQgXHQuYWx3YXlzKCBmdW5jdGlvbiggaW5zdGFuY2UgKSB7XG5cdFx0ICAgIFx0Y29uc29sZS5sb2coXCJhbGwgaW1hZ2VzIG9mICdQcmljaW5nIG1lbnUnIGxvYWRlZFwiKTtcblxuXHRcdCAgIFx0XHRpbnN0YW50aWF0ZUlzb3RvcGVHYWxsZXJ5KFwiLmdyaWQtcHJpY2luZ1wiLHtcblx0XHQgIFx0XHRcdGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0tcHJpY2luZycsXG5cdFx0ICBcdFx0XHRzdGFnZ2VyOiAzMFxuXHRcdFx0XHR9KTtcblxuXHRcdCAgICBcdGJ1aWxkSW1nQ2F0ZWdvcmllcyhcIiNmaWx0ZXItcHJpY2VsaXN0XCIsXCIjcHJpY2luZy1nYWxsZXJ5IC5ncmlkLWl0ZW0tcHJpY2luZ1wiKTtcblx0XHQgICAgXHRwbGFjZUZpbHRlckxpc3RlbmVycyhcIi5ncmlkLXByaWNpbmdcIik7XG5cdFx0ICAgIFx0JChcIi5ncmlkLXByaWNpbmc+LmdyaWQtaXRlbS1wcmljaW5nXCIpLnJlbW92ZUNsYXNzKFwiaG92ZXItb2ZmXCIpO1xuXG5cdFx0XHRcdFx0Y2FsbGJhY2tGdW5jKCk7XG5cblx0XHQgIFx0fSlcblx0XHQgIFx0LmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdCAgICBcdGNvbnNvbGUubG9nKFwiQWxsIGltYWdlcyBvZiAnUHJpY2luZyBtZW51JyBzdWNjZXNzZnVsbHkgbG9hZGVkXCIpO1xuXG5cdFx0ICBcdH0pXG5cdFx0ICBcdC5mYWlsKCBmdW5jdGlvbigpIHtcblx0XHQgICAgXHRjb25zb2xlLmxvZyggYnJva2VuQ291bnQgKyBcIiBvZiAnUHJpY2luZyBtZW51JyBpbWFnZXMgaGF2ZSBicm9rZW4gbGlua3MuIENoZWNrIHlvdXIgaW1hZ2UgcGF0aHMuXCIpO1xuXHRcdCAgXHR9KVxuXHRcdFx0LnByb2dyZXNzKCBmdW5jdGlvbiggaW5zdGFuY2UsIGltYWdlICkge1xuXG5cdFx0ICAgIFx0aWYgKCFpbWFnZS5pc0xvYWRlZCkge1xuXHRcdFx0XHRcdGJyb2tlbkNvdW50Kys7XG5cdFx0XHRcdFx0JChpbWFnZS5pbWcpLnBhcmVudCgpLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gaW5zdGFudGlhdGVJc290b3BlR2FsbGVyeShlbCxvcHRpb25zKXtcblx0XHQkKGVsKS5pc290b3BlKG9wdGlvbnMpO1xuXHRcdCQoZWwpLmlzb3RvcGUoICdvbicsICdsYXlvdXRDb21wbGV0ZScsIGZ1bmN0aW9uKCl7XG5cdFx0XHRpZiAoZWw9PT0nLmdyaWQnKSB7XG5cdFx0XHRcdCQoZWwrXCIgOnZpc2libGUgaW1nXCIpLmFuaW1hdGVDc3MoJ3B1bHNlJyk7XG5cdFx0XHR9IGVsc2UgaWYgKGVsPT09Jy5ncmlkLXByaWNpbmcnKSB7XG5cdFx0XHRcdCQoZWwrXCIgOnZpc2libGVcIikuYW5pbWF0ZUNzcygncHVsc2UnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ1aWxkSW1nQ2F0ZWdvcmllcyhsaXN0RWxlbWVudCxpbWdDb250YWluZXJzKSB7XG5cblx0XHR2YXIgJGltZ0NvbnRhaW5lcnMgPSAkKGltZ0NvbnRhaW5lcnMpO1xuXHRcdHZhciAkYnV0dG9ucyA9ICQobGlzdEVsZW1lbnQpO1xuXHRcdHZhciB0YWdnZWQgPSB7fTtcblxuXHRcdCRidXR0b25zLmNoaWxkcmVuKCkucmVtb3ZlKCk7XG5cblx0XHQkaW1nQ29udGFpbmVycy5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgaW1nQ29udGFpbmVyPXRoaXM7XG5cdFx0XHR2YXIgdGFncyA9ICQodGhpcykuZGF0YSgncG9ydGZvbGlvLXRhZ3MnKTtcblxuXHRcdFx0aWYgKHRhZ3MpIHtcblx0XHRcdFx0dGFncy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbih0YWdOYW1lKXtcblx0XHRcdFx0XHR0YWdOYW1lID0gdGFnTmFtZS50cmltKCk7XG5cdFx0XHRcdFx0aWYgKHRhZ2dlZFt0YWdOYW1lXT09bnVsbCkge1xuXHRcdFx0XHRcdFx0dGFnZ2VkW3RhZ05hbWVdPVtdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0YWdnZWRbdGFnTmFtZV0ucHVzaChpbWdDb250YWluZXIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0JGJ1dHRvbnMuYWRkQ2xhc3MoXCJmaWx0ZXItd3JhcHBlclwiKTtcblx0XHQkKFwiPGxpLz5cIikuYXBwZW5kVG8oJGJ1dHRvbnMpO1xuXG5cdFx0JChcIjxhLz5cIiwge1xuXHRcdFx0dGV4dDogXCJWxaFlXCIsXG5cdFx0XHRjbGFzczogXCJmaWx0ZXItaXRlbSBzZWxlY3RlZFwiLFxuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKS5wYXJlbnQoKS5zaWJsaW5ncygpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcblx0XHRcdH1cblx0XHR9KS5hcHBlbmRUbygkYnV0dG9ucy5jaGlsZHJlbigpLmVxKDApKS5hdHRyKCdkYXRhLWxhbmcnLCdWxaFlJyk7XG5cblx0XHQkKFwiPGxpPjxhIGNsYXNzPSdmaWx0ZXItaXRlbSBmaWx0ZXItcG9ydGZvbGlvLWRpdmlkZXInPiZuYnNwOzwvYT48L2xpPlwiKS5hcHBlbmRUbygkYnV0dG9ucyk7XG5cblx0XHQkLmVhY2godGFnZ2VkLCBmdW5jdGlvbih0YWdOYW1lKSB7XG5cdFx0XHQkKFwiPGxpLz5cIikuYXBwZW5kVG8oJGJ1dHRvbnMpO1xuXG5cdFx0XHQkKFwiPGEvPlwiLCB7XG5cdFx0XHRcdHRleHQ6IHRhZ05hbWUsXG5cdFx0XHRcdGNsYXNzOiBcImZpbHRlci1pdGVtXCIsXG5cdFx0XHRcdGNsaWNrOiBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKS5wYXJlbnQoKS5zaWJsaW5ncygpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSkuYXBwZW5kVG8oJGJ1dHRvbnMuY2hpbGRyZW4oKS5sYXN0KCkpLmF0dHIoJ2RhdGEtbGFuZycsdGFnTmFtZSk7XG5cdFx0fSlcblx0fTtcblxuXHRmdW5jdGlvbiBwbGFjZUZpbHRlckxpc3RlbmVycyhncmlkRWwpIHsgICAvLyBcIi5ncmlkXCJcblx0ICAgICQoJy5maWx0ZXItd3JhcHBlcicpLm9uKCAnY2xpY2snLCAnLmZpbHRlci1pdGVtJywgZnVuY3Rpb24oKSB7XG5cdCAgICBcdHZhciBmaWx0ZXJWYWx1ZSA9ICQodGhpcykuZGF0YSgnbGFuZycpO1xuXHQgICAgXHQgLy8gY29uc29sZS5sb2coXCItLS0tLS0tLVwiKTtcblx0ICAgIFx0IC8vIGNvbnNvbGUubG9nKGZpbHRlclZhbHVlKTtcblxuXHQgICAgXHRpZiAoZmlsdGVyVmFsdWUgPT09ICQoJChcIi5maWx0ZXItaXRlbVwiKVswXSkuZGF0YSgnbGFuZycpKSB7XG5cdCAgICBcdFx0JChncmlkRWwpLmlzb3RvcGUoe1xuXHRcdFx0XHQgIFx0ZmlsdGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICBcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHQgIFx0ICBcdH1cblx0XHRcdFx0XHR9KTtcblx0ICAgIFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKGdyaWRFbCkuaXNvdG9wZSh7XG5cdFx0XHRcdFx0ICBcdGZpbHRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ICBcdFx0dGFnVGV4dD0gJCh0aGlzKS5kYXRhKCdwb3J0Zm9saW9UYWdzJyk7XG5cdFx0XHRcdFx0ICBcdFx0Zm91bmQgPSB0YWdUZXh0LnNlYXJjaChmaWx0ZXJWYWx1ZSk7XG5cdFx0XHRcdFx0XHQgIFx0aWYgKGZvdW5kPiAtMSkge1xuXHRcdFx0XHRcdFx0ICBcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0XHRcdCAgXHR9ICAgZWxzZSB7XG5cdFx0XHRcdFx0XHQgIFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRcdFx0XHRcdCAgXHR9XG5cdFx0XHRcdCAgXHQgIFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0ICAgIH0pO1xuXG5cdFx0JChncmlkRWwgKyAnIC5ncmlkLWl0ZW0nKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0aWYgKCQodGhpcykuaGFzQ2xhc3MoJ2dyaWQtaXRlbS1zZWxlY3RlZCcpKSB7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2dyaWQtaXRlbS1zZWxlY3RlZCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChncmlkRWwgKyAnIC5ncmlkLWl0ZW0nKS5yZW1vdmVDbGFzcygnZ3JpZC1pdGVtLXNlbGVjdGVkJyk7XG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2dyaWQtaXRlbS1zZWxlY3RlZCcpO1xuXHRcdFx0fVxuXHRcdFx0JChncmlkRWwpLmlzb3RvcGUoJ2xheW91dCcpO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJ2dyaWQgaXRlbSBjbGlja2VkJyk7XG5cdFx0XHQvLyBjb25zb2xlLmxvZygkKHRoaXMpKTtcblx0XHR9KTtcblxuXHR9XG5cblx0Z2xvYmFsLm15U2l0ZS5pbml0Q29tbWlzaW9uc0dhbGxlcnkgPSBpbml0Q29tbWlzaW9uc0dhbGxlcnk7XG5cdGdsb2JhbC5teVNpdGUuaW5pdFByaWNpbmdHYWxsZXJ5ID0gaW5pdFByaWNpbmdHYWxsZXJ5O1xuXG59KHdpbmRvdykpO1xuIl19
