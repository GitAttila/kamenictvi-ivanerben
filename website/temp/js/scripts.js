var ContactFormModule=function(){return{initContactFormListener:function(){$("#contact-form .btn-site").on("click",function(){$("#contact-form").submit()}),$("#contact-form").submit(function(e){e.preventDefault(),console.log("Form submitted listener called");var t=$("#contact-form").find("input, textarea, select"),s={};t.each(function(){this.name&&("checkbox"==this.type||"radio"==this.type?this.checked&&(s[this.name]=this.value):s[this.name]=this.value)}),console.log("formValues : "+JSON.stringify(s)),$.ajax({url:"assets/php/handleajaxform.php",method:"POST",data:s,success:function(e){if(console.log("AJAX post result result : "+JSON.stringify(e)),$("div[data-error-id]").text(""),$("#contact-form input, #contact-form textarea").removeClass("form-error"),$("#send-result").text(""),Object.keys(e.errors).length>0)for(var t in e.errors)console.log("error in "+t+": "+e.errors[t]),$('div[data-error-id="'+t+'"]').text(e.errors[t]).hide().slideDown(),$('*[name="'+t+'"]').addClass("form-error"),$('*[name="'+t+'"]').animateCss("shake");else console.log("All validation passed succesfully!"),$("#send-result").text("Thank you. Your message has been sent."),$("#send-result").removeClass("alert-danger").addClass("alert-success"),$("#send-result").show().animateCss("bounceIn",function(){$("input").val(""),$("textarea").val(""),$("#send-result").delay(5e3).slideUp()})},error:function(){$("#send-result").removeClass("alert-success"),$("#send-result").addClass("alert-danger"),$("#send-result").text("Sorry... Your message could not have been delivered."),$("#send-result").slideDown()}})})}}}();
var MapModule=function(){var e,n={lat:50.048822,lng:15.200242};return{initContactMap:function(){var a=[{featureType:"all",elementType:"all",stylers:[{saturation:-100},{gamma:.5}]}],t=new google.maps.Map(document.getElementById("contact-map"),{center:n,scrollwheel:!1,streetViewControl:!0,streetViewControl:{position:google.maps.ControlPosition.LEFT_BOTTOM},mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},styles:a,zoom:8});e=t;new google.maps.Marker({map:t,position:n,title:"Kamenictví Erben",icon:{url:"assets/images/IE_logo_rounded_pointer.png",scaledSize:new google.maps.Size(150,150)}});e.panBy(0,-$("nav.navbar").height())},placeContactListeners:function(){$(".btn-map").on("click",function(a){a.preventDefault();var t=$(this);if(window.addEventListener("orientationchange",function(){t.children().hasClass("fa-expand")&&(window.matchMedia("(orientation: landscape)").matches&&window.innerWidth<767?$("#contact-map").animate({height:"75vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}):$("#contact-map").animate({height:"50vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}))},!1),t.children().hasClass("fa-expand"))return t.children().removeClass("fa-expand").addClass("fa-compress"),void $("#contact-map").animate({height:"100vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())});t.children().hasClass("fa-compress")&&(t.children().removeClass("fa-compress").addClass("fa-expand"),window.matchMedia("(orientation: landscape)").matches&&window.innerWidth<767?$("#contact-map").animate({height:"75vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}):$("#contact-map").animate({height:"50vh"},500,function(){google.maps.event.trigger(e,"resize"),e.setCenter(n),e.panBy(0,-$("nav.navbar").height())}))})}}}();
$(function(e){"object"!=typeof e.mySite&&(e.mySite={});var n=[{carousel:"#main-carousel",interval:7e3,pause:"none"},{carousel:"#about-carousel",interval:5e3,pause:"none"},{carousel:"#carouselTombstones",interval:3e3,pause:"none"},{carousel:"#carouselGarden",interval:3e3,pause:"none"},{carousel:"#carouselRestorations",interval:3e3,pause:"none"},{carousel:"#CarouselMonuments",interval:3e3,pause:"none"}];$(".loader-wrapper").hide(),$.fn.extend({animateCss:function(e,n){return this.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated "+e),$.isFunction(n)&&n()}),this}}),initCarousels=function(e){for(var n=0;n<e.length-1;n++)$(e[n].carousel).carousel({interval:e[n].interval});console.log("carousels initialized")},e.mySite.carouselsSetup=n,e.mySite.initCarousels=initCarousels}(window));
!function(a,t){var n=["cz","en"],e=function(a){return new e.init(a)};e.prototype={getKeyVal:function(a){return self=this,function(){a=a.trim();for(var t,n=0;n<=e.data.length-1;n++){if(e.data[n].datatag===a)return t=e.data[n][self.activeLang];t=""}return t}()},switchLang:function(a){self=this;for(var n=t("[data-lang]").length,e=0;e<=n-1;e++){var i=t(t("[data-lang]")[e]).data("lang");value=LNG$(a).getKeyVal(i),void 0===value?console.log("Language tag '"+i+"' is not defined in language database for: "+a):""!==value.trim()&&(value.search("<ph>")>-1?(value=value.substr(4,value.length),t(t("[data-lang]")[e]).attr("placeholder",value)):t(t("[data-lang]")[e]).text(LNG$(a).getKeyVal(i)).animateCss("pulse"),t(t("[data-lang]")[e]).css("visibility","visible"))}},getSelectedLang:function(){return t(".lang-switcher>span").text().toLowerCase().trim()}},e.init=function(a){this.activeLang=a||n[0]},e.init.prototype=e.prototype,a.Lang=a.LNG$=e,function(a,n){t.getJSON(a,function(){}).done(function(a){console.log("lang data loaded..."),n(a)}).fail(function(a,t,n){console.log("--- error ---"),console.log(a)}).always(function(){})}("./assets/data/lang.json",function(a){e.data=a;var n=t(".lang-switcher>span").text().trim();LNG$(n).switchLang(n)})}(window,jQuery);
$(function(n){function e(){console.log("navMenu initialized");var e={};$cachedItems=$("#mainNavbar [data-menuitem]"),$($cachedItems).each(function(n,t){e[$(t).data("menuitem")]=""}),n.mySite.cachedPage=e,l(!0),$("#mainNavbar").on("show.bs.collapse",function(){$(".hamburger__menu-icon").addClass("hamburger__menu-icon--close-x")}),$("#mainNavbar").on("hide.bs.collapse",function(){$(".hamburger__menu-icon").removeClass("hamburger__menu-icon--close-x")}),$(".nav-link").on("click",function(n){n.preventDefault();var e=this.href.trim().toLowerCase();t($(this).data("menuitem").trim().toLowerCase(),this,e)})}function t(n,e,t,i){"string"!=typeof menuItemName&&(menuItemName=""),lang=LNG$().getSelectedLang(),e=e||"",t=t||"","function"!=typeof i&&(i=function(){}),$(e).siblings(".nav-link").removeClass("active"),$(e).addClass("active"),$("#mainNavbar").collapse("hide"),$("#ajax-container").fadeOut(500,function(){$("#ajax-content").hide(),$(".loader-wrapper").fadeIn(500),$("body,html").stop().animate({scrollTop:0},"50"),$(this).remove(),""===mySite.cachedPage[n]?$("#ajax-content").load(t+" #ajax-container",function(e,t){"success"===t?(console.log("Loaded '"+n+"' from SERVER..."),a(function(){LNG$(lang).switchLang(lang),mySite.cachedPage[n]=$(e).find("#ajax-container"),mapInitFlag="contact"===n,m[n](i,mapInitFlag)})):"error"===t&&($(".loader-wrapper").hide(),console.log("Error loading from server..."))}):(console.log("Loaded '"+n+"' from CACHE..."),$(mySite.cachedPage[n]).appendTo("#ajax-content"),a(function(){LNG$(lang).switchLang(lang),m[n](i)}))})}function a(n){"function"!=typeof n&&(n=function(){}),$("#ajax-container").show(),$(".loader-wrapper").hide(),$("#ajax-content").fadeIn(500,function(){n()})}function o(n,e,t){"function"!=typeof t&&(t=function(){}),$(e).append($("<script />",{src:n,async:!0,defer:!0})),t()}function c(){clearInterval(mySite.btnInterval),mySite.btnInterval=setInterval(function(){$(".btn-down").animateCss("bounce")},3e3);var n=0;$(window).on("scroll",function(){var e=$(window).height(),t=$(window).scrollTop();n=e/5,t<0&&(t=0),(e-n)/t>1?$(".btn-move-up").is(":visible")&&$(".btn-move-up").animateCss("bounceOut",function(){$(".btn-move-up").hide(),$(".btn-down").show().animateCss("bounceIn")}):$(".btn-move-up").is(":visible")||$(".btn-down").animateCss("bounceOut",function(){$(".btn-down").hide(),$(".btn-move-up").show(),$(".btn-move-up").animateCss("bounceIn")})}),$(".btn-move-up").on("click",function(){$("body,html").stop().animate({scrollTop:0},"700","swing")}),$(".btn-down").on("click",function(n){n.preventDefault();var e=n.currentTarget.hash,t=$(e).offset().top;$("body,html").stop().animate({scrollTop:t},"700","swing")})}function l(n){function e(n,e){"object"!=typeof n&&(n=n||[]),"string"!=typeof e&&(e=e||"");var t=!1;return-1===n.indexOf(u)?console.log("error: language: '"+e+"' within 'index.html' file is not compatible with languages defined."):t=!0,t}var n=n||!1,t=[],a={cz:!0,en:!0,de:!1};u=$(".lang-switcher>span").text().trim(),$.each(a,function(n,e){e&&t.push(n)}),n&&LNG$(u).switchLang(u),$(".lang-switcher>span").on("click",function(){var n=t.indexOf(u)+1;e(t,u)&&(n=n===t.length?0:n,u=t[n],$(".lang-switcher>span").text(u),LNG$(u).switchLang(u),$(this).animateCss("bounceIn"))})}function r(){console.log("links to gallery initialized..."),$(".btn-site").on("click",function(n){n.preventDefault;var e=(LNG$().getSelectedLang(),$(this).data("link").toLowerCase().trim()),a=$("[data-menuitem='realisations']"),i=window.location.href;i.search("index.html")>=0?i=i.replace("index.html","realisations.html"):i+="realisations.html",t("realisations",a,i,function(){$(".filter-item").each(function(n){if(void 0!==$(this).data("lang")&&$(this).data("lang").toLowerCase().trim()===e)return void $(this).trigger("click")})})})}function s(n,e){if(console.log("parallax '"+n+"' initialized"),n=n||"",e=e||"",!f){var t=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"100%"}});new ScrollMagic.Scene({triggerElement:n}).setTween(e,{y:"50%",ease:Linear.easeNone}).addTo(t)}}var u="";"object"!=typeof n.mySite&&(n.mySite={});var m={main:function(n){"function"!=typeof n&&(n=function(){}),initCarousels(mySite.carouselsSetup),c(),r(),f||s("#parallax1","#parallax1 > div"),n()},about:function(n){"function"!=typeof n&&(n=function(){}),initCarousels(mySite.carouselsSetup),c(),f||s("#parallax2","#parallax2 > div"),n()},realisations:function(n){"function"!=typeof n&&(n=function(){}),mySite.initCommisionsGallery(function(){n(),c()})},pricing:function(n){"function"!=typeof n&&(n=function(){}),mySite.initPricingGallery(function(){n(),c()})},contact:function(n,e){"function"!=typeof n&&(n=function(){}),e=e||!1,e?o("https://maps.googleapis.com/maps/api/js?key=AIzaSyA0qVKpndfcoIgP5nwuJxmH5q0v5TSvEc4&callback=MapModule.initContactMap","body",function(){MapModule.placeContactListeners(),ContactFormModule.initContactFormListener(),n()}):(MapModule.initContactMap(),MapModule.placeContactListeners(),ContactFormModule.initContactFormListener(),n())}},f=function(){var n=["android","webos","iphone","ipad","blackberry"];for(i in n)if(navigator.userAgent.toLowerCase().search(n[i])>-1&&void 0!==window.orientation)return!0;return!1}();n.mySite.isMobileFlag=f,!0===f&&$("body").addClass("isMobile"),$(window).load(function(){r(),e(),c(),l(),s("#parallax1","#parallax1 > div")}),n.mySite.navMenuInit=e,n.mySite.linkToGallery=r,n.mySite.navItemClickCallback=t,n.mySite.placeJumpButtonListeners=c,n.mySite.placeLangSwitchListener=l,n.mySite.initParallax=s}(window));
$(function(e){function i(e){var i=LNG$().getSelectedLang();console.log("initCommisionsGallery called"),e="function"==typeof e?e:function(){};var o=0;$(".grid-item>.img-result-wrapper").hide(),$(".grid-item>.img-loader-wrapper").show(),$(".grid>.grid-item").addClass("hover-off"),$("#portfolios").imagesLoaded().always(function(e){console.log("all images of 'Commisions menu' loaded"),t(".grid",{itemSelector:".grid-item",stagger:30}),r("#filter-portfolio","#portfolio-gallery .grid-item"),l(".grid"),$(".grid-item>.img-result-wrapper").fadeOut(1e3),$(".img-loader>.img-loader-text").text("images loaded"),$(".img-loader-bar").css("background-color","green"),$(".img-loader").delay(3e3).slideUp(1e3),$(".grid>.grid-item").removeClass("hover-off")}).done(function(){console.log("all images of 'Commisions menu' successfully loaded"),LNG$(i).switchLang(i),e()}).fail(function(){console.log(o+" of 'Commisions menu' images have broken links. Check your image paths."),$(".img-loader").delay(3e3).slideUp(1e3)}).progress(function(e,i){i.isLoaded?($(i.img).siblings(".img-loader-wrapper").hide(),$(i.img).siblings(".img-result-wrapper").animateCss("bounceIn").show(),$(".img-loader-bar").width(e.progressedCount/e.images.length*100+"%")):(o++,$(i.img).parent().remove())})}function o(e){e="function"==typeof e?e:function(){};var i=0;$(".grid-pricing>.grid-item-pricing").addClass("hover-off"),$("#pricing").imagesLoaded().always(function(i){console.log("all images of 'Pricing menu' loaded"),t(".grid-pricing",{itemSelector:".grid-item-pricing",stagger:30}),r("#filter-pricelist","#pricing-gallery .grid-item-pricing"),l(".grid-pricing"),$(".grid-pricing>.grid-item-pricing").removeClass("hover-off"),e()}).done(function(){console.log("All images of 'Pricing menu' successfully loaded")}).fail(function(){console.log(i+" of 'Pricing menu' images have broken links. Check your image paths.")}).progress(function(e,o){o.isLoaded||(i++,$(o.img).parent().remove())})}function t(e,i){$(e).isotope(i),$(e).isotope("on","layoutComplete",function(){".grid"===e?$(e+" :visible img").animateCss("pulse"):".grid-pricing"===e&&$(e+" :visible").animateCss("pulse")})}function r(e,i){var o=$(i),t=$(e),r={};t.children().remove(),o.each(function(){var e=this,i=$(this).data("portfolio-tags");i&&i.split(",").forEach(function(i){i=i.trim(),null==r[i]&&(r[i]=[]),r[i].push(e)})}),t.addClass("filter-wrapper"),$("<li/>").appendTo(t),$("<a/>",{text:"Vše",class:"filter-item selected",click:function(){$(this).addClass("selected").parent().siblings().children().removeClass("selected")}}).appendTo(t.children().eq(0)).attr("data-lang","Vše"),$("<li><a class='filter-item filter-portfolio-divider'>&nbsp;</a></li>").appendTo(t),$.each(r,function(e){$("<li/>").appendTo(t),$("<a/>",{text:e,class:"filter-item",click:function(){$(this).addClass("selected").parent().siblings().children().removeClass("selected")}}).appendTo(t.children().last()).attr("data-lang",e)})}function l(e){$(".filter-wrapper").on("click",".filter-item",function(){var i=$(this).data("lang");i===$($(".filter-item")[0]).data("lang")?$(e).isotope({filter:function(){return!0}}):$(e).isotope({filter:function(){return tagText=$(this).data("portfolioTags"),found=tagText.search(i),found>-1}})}),$(e+" .grid-item").on("click",function(i){i.preventDefault(),$(this).hasClass("grid-item-selected")?$(this).removeClass("grid-item-selected"):($(e+" .grid-item").removeClass("grid-item-selected"),$(this).addClass("grid-item-selected")),$(e).isotope("layout")})}e.mySite.initCommisionsGallery=i,e.mySite.initPricingGallery=o}(window));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3QtZm9ybS5qcyIsImNvbnRhY3RfbWFwLmpzIiwiaW5pdC5qcyIsImxhbmd1YWdlLWNvbnRyb2xsZXIuanMiLCJuYXZpZ2F0aW9uLmpzIiwicG9ydGZvbGlvX2ZpbHRlci5qcyJdLCJuYW1lcyI6WyJDb250YWN0Rm9ybU1vZHVsZSIsImluaXRDb250YWN0Rm9ybUxpc3RlbmVyIiwiJCIsIm9uIiwic3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImxvZyIsImlucHV0RWxlbWVudHMiLCJmaW5kIiwiZm9ybVZhbHVlcyIsImVhY2giLCJ0aGlzIiwibmFtZSIsInR5cGUiLCJjaGVja2VkIiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWpheCIsInVybCIsIm1ldGhvZCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwidGV4dCIsInJlbW92ZUNsYXNzIiwiT2JqZWN0Iiwia2V5cyIsImVycm9ycyIsImxlbmd0aCIsImlucHV0TmFtZSIsImhpZGUiLCJzbGlkZURvd24iLCJhZGRDbGFzcyIsImFuaW1hdGVDc3MiLCJzaG93IiwidmFsIiwiZGVsYXkiLCJzbGlkZVVwIiwiZXJyb3IiLCJNYXBNb2R1bGUiLCJteU1hcCIsIm15UG9zaXRpb24iLCJsYXQiLCJsbmciLCJpbml0Q29udGFjdE1hcCIsInN0eWxlQXJyYXkiLCJmZWF0dXJlVHlwZSIsImVsZW1lbnRUeXBlIiwic3R5bGVycyIsInNhdHVyYXRpb24iLCJnYW1tYSIsIm1hcCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2VudGVyIiwic2Nyb2xsd2hlZWwiLCJzdHJlZXRWaWV3Q29udHJvbCIsInBvc2l0aW9uIiwiQ29udHJvbFBvc2l0aW9uIiwiTEVGVF9CT1RUT00iLCJtYXBUeXBlQ29udHJvbCIsIm1hcFR5cGVDb250cm9sT3B0aW9ucyIsIkJPVFRPTV9MRUZUIiwiem9vbUNvbnRyb2wiLCJ6b29tQ29udHJvbE9wdGlvbnMiLCJMRUZUX0NFTlRFUiIsInN0eWxlcyIsInpvb20iLCJNYXJrZXIiLCJ0aXRsZSIsImljb24iLCJzY2FsZWRTaXplIiwiU2l6ZSIsInBhbkJ5IiwiaGVpZ2h0IiwicGxhY2VDb250YWN0TGlzdGVuZXJzIiwiJHRoaXMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hpbGRyZW4iLCJoYXNDbGFzcyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiaW5uZXJXaWR0aCIsImFuaW1hdGUiLCJldmVudCIsInRyaWdnZXIiLCJzZXRDZW50ZXIiLCJnbG9iYWwiLCJteVNpdGUiLCJjYXJvdXNlbHNTZXR1cCIsImNhcm91c2VsIiwiaW50ZXJ2YWwiLCJwYXVzZSIsImZuIiwiZXh0ZW5kIiwiYW5pbWF0aW9uTmFtZSIsImNhbGxCYWNrRnVuYyIsIm9uZSIsImlzRnVuY3Rpb24iLCJpbml0Q2Fyb3VzZWxzIiwiY2FyU2V0dXAiLCJpIiwic2l0ZUxhbmdzIiwiTGFuZyIsImFjdGl2ZUxhbmciLCJpbml0IiwicHJvdG90eXBlIiwiZ2V0S2V5VmFsIiwia2V5VmFsIiwic2VsZiIsInRyaW0iLCJkYXRhdGFnIiwic3dpdGNoTGFuZyIsInN3aXRjaFRvTGFuZyIsIm51bU9mTGFuZ0VscyIsInJldHJpZXZlZERhdGFUYWciLCJMTkckIiwidW5kZWZpbmVkIiwic2VhcmNoIiwic3Vic3RyIiwiYXR0ciIsImNzcyIsImdldFNlbGVjdGVkTGFuZyIsInRvTG93ZXJDYXNlIiwiY2FsbGJhY2tGdW5jIiwiZ2V0SlNPTiIsImRvbmUiLCJmYWlsIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJhbHdheXMiLCJpbml0TGFuZyIsImpRdWVyeSIsIm5hdk1lbnVJbml0IiwiY2FjaGVkUGFnZSIsIiRjYWNoZWRJdGVtcyIsImluZGV4IiwicGxhY2VMYW5nU3dpdGNoTGlzdGVuZXIiLCJocmVmIiwibmF2SXRlbUNsaWNrQ2FsbGJhY2siLCJtZW11SXRlbU5hbWUiLCJlbGVtIiwibWVudUl0ZW1OYW1lIiwibGFuZyIsInNpYmxpbmdzIiwiY29sbGFwc2UiLCJmYWRlT3V0IiwiZmFkZUluIiwic3RvcCIsInNjcm9sbFRvcCIsInJlbW92ZSIsImxvYWQiLCJzdGF0dXMiLCJ1cGRhdGVQYWdlIiwibWFwSW5pdEZsYWciLCJwYWdlQ2FsbGJhY2tGdW5jIiwiYXBwZW5kVG8iLCJhZGRTY3JpcHQiLCJzcmMiLCJlbCIsImNhbGxiYWNrRiIsImFwcGVuZCIsImFzeW5jIiwiZGVmZXIiLCJwbGFjZUp1bXBCdXR0b25MaXN0ZW5lcnMiLCJjbGVhckludGVydmFsIiwiYnRuSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm9mZlNldFkiLCJhY3R1YWxIZWlnaHQiLCJhY3R1YWxTY3JvbGxQb3MiLCJpcyIsImp1bXBIYXNoIiwiY3VycmVudFRhcmdldCIsImhhc2giLCJqdW1wUG9pbnQiLCJvZmZzZXQiLCJ0b3AiLCJ1cGRhdGUiLCJpc0xhbmdEZWZpbmVkIiwiYWN0aXZlTGFuZ3MiLCJsYW5nVG9DaGVjayIsImlzRGVmaW5lZCIsImluZGV4T2YiLCJhY3RpdmVMYW5ndWFnZXMiLCJsYW5ndWFnZXMiLCJjeiIsImVuIiwiZGUiLCJwdXNoIiwibmV4dCIsImxpbmtUb0dhbGxlcnkiLCJnYWxMaW5rIiwiJGVsZW0iLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJpbml0UGFyYWxsYXgiLCJ0cmlnZ2VyRWxlbWVudCIsInR3ZWVuRWxlbWVudCIsImlzTW9iaWxlRmxhZyIsImNvbnRyb2xsZXIiLCJTY3JvbGxNYWdpYyIsIkNvbnRyb2xsZXIiLCJnbG9iYWxTY2VuZU9wdGlvbnMiLCJ0cmlnZ2VySG9vayIsImR1cmF0aW9uIiwiU2NlbmUiLCJzZXRUd2VlbiIsInkiLCJlYXNlIiwiTGluZWFyIiwiZWFzZU5vbmUiLCJhZGRUbyIsIm1haW4iLCJhYm91dCIsInJlYWxpc2F0aW9ucyIsImluaXRDb21taXNpb25zR2FsbGVyeSIsInByaWNpbmciLCJpbml0UHJpY2luZ0dhbGxlcnkiLCJjb250YWN0IiwicnVuTWFwSW5pdFNjcmlwdCIsImFnZW50cyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm9yaWVudGF0aW9uIiwiYnJva2VuQ291bnQiLCJpbWFnZXNMb2FkZWQiLCJpbnN0YW5jZSIsImluc3RhbnRpYXRlSXNvdG9wZUdhbGxlcnkiLCJpdGVtU2VsZWN0b3IiLCJzdGFnZ2VyIiwiYnVpbGRJbWdDYXRlZ29yaWVzIiwicGxhY2VGaWx0ZXJMaXN0ZW5lcnMiLCJwcm9ncmVzcyIsImltYWdlIiwiaXNMb2FkZWQiLCJpbWciLCJ3aWR0aCIsInByb2dyZXNzZWRDb3VudCIsImltYWdlcyIsInBhcmVudCIsIm9wdGlvbnMiLCJpc290b3BlIiwibGlzdEVsZW1lbnQiLCJpbWdDb250YWluZXJzIiwiJGltZ0NvbnRhaW5lcnMiLCIkYnV0dG9ucyIsInRhZ2dlZCIsImltZ0NvbnRhaW5lciIsInRhZ3MiLCJzcGxpdCIsImZvckVhY2giLCJ0YWdOYW1lIiwiY2xhc3MiLCJjbGljayIsImVxIiwibGFzdCIsImdyaWRFbCIsImZpbHRlclZhbHVlIiwiZmlsdGVyIiwidGFnVGV4dCIsImZvdW5kIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxtQkFBb0IsV0E0RXBCLE9BQ0lDLHdCQTNFMEIsV0FFMUJDLEVBQUUsMkJBQTJCQyxHQUFJLFFBQVMsV0FFdENELEVBQUcsaUJBQWtCRSxXQUd6QkYsRUFBRSxpQkFBaUJFLE9BQU8sU0FBU0MsR0FDL0JBLEVBQUVDLGlCQUVGQyxRQUFRQyxJQUFJLGlDQUVaLElBQUlDLEdBQWdCUCxFQUFFLGlCQUFpQlEsS0FBSywyQkFDeENDLElBRUpGLEdBQWNHLEtBQUssV0FDWEMsS0FBS0MsT0FDWSxZQUFiRCxLQUFLRSxNQUFtQyxTQUFiRixLQUFLRSxLQUM1QkYsS0FBS0csVUFDTEwsRUFBV0UsS0FBS0MsTUFBUUQsS0FBS0ksT0FHakNOLEVBQVdFLEtBQUtDLE1BQVFELEtBQUtJLFNBS3pDVixRQUFRQyxJQUFJLGdCQUFrQlUsS0FBS0MsVUFBVVIsSUFFN0NULEVBQUVrQixNQUNFQyxJQUFLLGdDQUNMQyxPQUFR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QixFQUFFVyxNQUFNc0IsU0FBUyx1QkFFbEJqQyxFQUFFdVEsR0FBUWYsUUFBUSxZQU9wQjVKLEVBQU9DLE9BQU9pSSxzQkFBd0JBLEVBQ3RDbEksRUFBT0MsT0FBT21JLG1CQUFxQkEsR0FFbEMvSSIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIENvbnRhY3RGb3JtTW9kdWxlID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGluaXRDb250YWN0Rm9ybUxpc3RlbmVyID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAkKFwiI2NvbnRhY3QtZm9ybSAuYnRuLXNpdGVcIikub24oIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiY2xpY2sgZXZlbnQ6IC5jb250YWN0LXN1Ym1pdCBidXR0b25cIik7XG4gICAgICAgICAgICAkKCBcIiNjb250YWN0LWZvcm1cIiApLnN1Ym1pdCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiI2NvbnRhY3QtZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZvcm0gc3VibWl0dGVkIGxpc3RlbmVyIGNhbGxlZFwiKTtcblxuICAgICAgICAgICAgdmFyIGlucHV0RWxlbWVudHMgPSAkKFwiI2NvbnRhY3QtZm9ybVwiKS5maW5kKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpO1xuICAgICAgICAgICAgdmFyIGZvcm1WYWx1ZXMgPSB7fTtcblxuICAgICAgICAgICAgaW5wdXRFbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSA9PSBcImNoZWNrYm94XCIgfHwgdGhpcy50eXBlID09IFwicmFkaW9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXNbdGhpcy5uYW1lXSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXNbdGhpcy5uYW1lXSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmb3JtVmFsdWVzIDogXCIgKyBKU09OLnN0cmluZ2lmeShmb3JtVmFsdWVzKSk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiBcImFzc2V0cy9waHAvaGFuZGxlYWpheGZvcm0ucGhwXCIsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtVmFsdWVzLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQUpBWCBwb3N0IHJlc3VsdCByZXN1bHQgOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJ2RpdltkYXRhLWVycm9yLWlkXScpLnRleHQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICQoJyNjb250YWN0LWZvcm0gaW5wdXQsICNjb250YWN0LWZvcm0gdGV4dGFyZWEnKS5yZW1vdmVDbGFzcygnZm9ybS1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjc2VuZC1yZXN1bHQnKS50ZXh0KFwiXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXN1bHQuZXJyb3JzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbnB1dE5hbWUgaW4gcmVzdWx0LmVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgaW4gXCIgKyBpbnB1dE5hbWUgKyBcIjogXCIgKyByZXN1bHQuZXJyb3JzW2lucHV0TmFtZV0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2W2RhdGEtZXJyb3ItaWQ9XCInICsgaW5wdXROYW1lICsgJ1wiXScpLnRleHQocmVzdWx0LmVycm9yc1tpbnB1dE5hbWVdKS5oaWRlKCkuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnKltuYW1lPVwiJyArIGlucHV0TmFtZSArICdcIl0nKS5hZGRDbGFzcygnZm9ybS1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJypbbmFtZT1cIicgKyBpbnB1dE5hbWUgKyAnXCJdJykuYW5pbWF0ZUNzcygnc2hha2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBbGwgdmFsaWRhdGlvbiBwYXNzZWQgc3VjY2VzZnVsbHkhXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NlbmQtcmVzdWx0XCIpLnRleHQoXCJUaGFuayB5b3UuIFlvdXIgbWVzc2FnZSBoYXMgYmVlbiBzZW50LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjc2VuZC1yZXN1bHRcIikucmVtb3ZlQ2xhc3MoJ2FsZXJ0LWRhbmdlcicpLmFkZENsYXNzKCdhbGVydC1zdWNjZXNzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjc2VuZC1yZXN1bHRcIikuc2hvdygpLmFuaW1hdGVDc3MoJ2JvdW5jZUluJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dCcpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCd0ZXh0YXJlYScpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NlbmQtcmVzdWx0XCIpLmRlbGF5KDUwMDApLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2VuZC1yZXN1bHRcIikucmVtb3ZlQ2xhc3MoJ2FsZXJ0LXN1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzZW5kLXJlc3VsdFwiKS5hZGRDbGFzcygnYWxlcnQtZGFuZ2VyJyk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2VuZC1yZXN1bHRcIikudGV4dChcIlNvcnJ5Li4uIFlvdXIgbWVzc2FnZSBjb3VsZCBub3QgaGF2ZSBiZWVuIGRlbGl2ZXJlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjc2VuZC1yZXN1bHRcIikuc2xpZGVEb3duKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pOyAgLy8gdGhlIGVuZCBvZiBhamF4IGNhbGwgdG8gcG9zdCBmb3JtVmFsdWVzXG4gICAgICAgIH0pOyAvLyB0aGUgZW5kIG9mIGZvcm0gc3VibWl0IGZ1bmN0aW9uXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdENvbnRhY3RGb3JtTGlzdGVuZXI6IGluaXRDb250YWN0Rm9ybUxpc3RlbmVyXG4gICAgfTtcblxufSkoKTtcbiIsIi8vIC0tLS0tLS0tLS0gR09PR0xFIE1BUCAtLS0tLS0tLS0tXG52YXIgTWFwTW9kdWxlID0gKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBteU1hcDtcbiAgdmFyIG15UG9zaXRpb24gPSB7bGF0OiA1MC4wNDg4MjIsIGxuZzogMTUuMjAwMjQyfTtcblxuICB2YXIgaW5pdENvbnRhY3RNYXAgPSBmdW5jdGlvbigpe1xuXG4gICAgICAvLyBTcGVjaWZ5IGZlYXR1cmVzIGFuZCBlbGVtZW50cyB0byBkZWZpbmUgc3R5bGVzLlxuICAgICAgdmFyIHN0eWxlQXJyYXkgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwiYWxsXCIsXG4gICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImFsbFwiLFxuICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwic2F0dXJhdGlvblwiOiAtMTAwXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwiZ2FtbWFcIjogMC41XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIC8vIENyZWF0ZSBhIG1hcCBvYmplY3QgYW5kIHNwZWNpZnkgdGhlIERPTSBlbGVtZW50IGZvciBkaXNwbGF5LlxuICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0LW1hcFwiKSwge1xuICAgICAgICAgIGNlbnRlcjogbXlQb3NpdGlvbixcbiAgICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2UsXG4gICAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IHRydWUsXG4gICAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uTEVGVF9CT1RUT01cbiAgICAgICAgICB9LFxuICAgICAgICAgIG1hcFR5cGVDb250cm9sOiB0cnVlLFxuICAgICAgICAgIG1hcFR5cGVDb250cm9sT3B0aW9uczoge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkJPVFRPTV9MRUZUXG4gICAgICAgICAgfSxcbiAgICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSxcbiAgICAgICAgICB6b29tQ29udHJvbE9wdGlvbnM6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uTEVGVF9DRU5URVJcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIEFwcGx5IHRoZSBtYXAgc3R5bGUgYXJyYXkgdG8gdGhlIG1hcC5cbiAgICAgICAgICBzdHlsZXM6IHN0eWxlQXJyYXksXG4gICAgICAgICAgem9vbTogOFxuICAgICAgfSk7XG5cbiAgICAgIG15TWFwID0gbWFwO1xuICAgICAgLy8gQ3JlYXRlIGEgbWFya2VyIGFuZCBzZXQgaXRzIHBvc2l0aW9uLlxuXG4gICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgIG1hcDogbWFwLFxuICAgICAgICBwb3NpdGlvbjogbXlQb3NpdGlvbixcbiAgICAgICAgdGl0bGU6ICdLYW1lbmljdHbDrSBFcmJlbicsXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICB1cmw6IFwiYXNzZXRzL2ltYWdlcy9JRV9sb2dvX3JvdW5kZWRfcG9pbnRlci5wbmdcIixcbiAgICAgICAgICBzY2FsZWRTaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgxNTAsIDE1MClcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIG15TWFwLnBhbkJ5KDAsKC0kKFwibmF2Lm5hdmJhclwiKS5oZWlnaHQoKSkpO1xuXG4gICAgfVxuXG4gICAgdmFyIHBsYWNlQ29udGFjdExpc3RlbmVycyA9IGZ1bmN0aW9uKCl7XG4gIFx0XHQkKFwiLmJ0bi1tYXBcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcbiAgXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcdFx0XHR2YXIgJHRoaXM9JCh0aGlzKTtcblxuICBcdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICBcdFx0XHRcdGlmICgkdGhpcy5jaGlsZHJlbigpLmhhc0NsYXNzKFwiZmEtZXhwYW5kXCIpKSB7XG4gIFx0XHRcdFx0XHRpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIob3JpZW50YXRpb246IGxhbmRzY2FwZSlcIikubWF0Y2hlcyAmJiB3aW5kb3cuaW5uZXJXaWR0aDw3NjcpIHtcbiAgXHRcdFx0XHRcdFx0JChcIiNjb250YWN0LW1hcFwiKS5hbmltYXRlKHtcbiAgXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiNzV2aFwiXG4gIFx0XHRcdFx0XHRcdH0sNTAwLCBmdW5jdGlvbigpe1xuICBcdFx0XHRcdFx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIobXlNYXAsIFwicmVzaXplXCIpO1xuICBcdFx0XHRcdFx0XHRcdG15TWFwLnNldENlbnRlcihteVBvc2l0aW9uKTtcbiAgXHRcdFx0XHRcdFx0XHRteU1hcC5wYW5CeSgwLCgtJChcIm5hdi5uYXZiYXJcIikuaGVpZ2h0KCkpKTtcbiAgXHRcdFx0XHRcdFx0fSk7XG4gIFx0XHRcdFx0XHR9IGVsc2Uge1xuICBcdFx0XHRcdFx0XHQkKFwiI2NvbnRhY3QtbWFwXCIpLmFuaW1hdGUoe1xuICBcdFx0XHRcdFx0XHRcdGhlaWdodDogXCI1MHZoXCJcbiAgXHRcdFx0XHRcdFx0fSw1MDAsIGZ1bmN0aW9uKCl7XG4gIFx0XHRcdFx0XHRcdFx0Z29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihteU1hcCwgXCJyZXNpemVcIik7XG4gIFx0XHRcdFx0XHRcdFx0bXlNYXAuc2V0Q2VudGVyKG15UG9zaXRpb24pO1xuICBcdFx0XHRcdFx0XHRcdG15TWFwLnBhbkJ5KDAsKC0kKFwibmF2Lm5hdmJhclwiKS5oZWlnaHQoKSkpO1xuICBcdFx0XHRcdFx0XHR9KTtcbiAgXHRcdFx0XHRcdH1cbiAgXHRcdFx0XHR9XG4gIFx0XHRcdH0sIGZhbHNlKTtcblxuICBcdFx0XHRpZiAoJHRoaXMuY2hpbGRyZW4oKS5oYXNDbGFzcyhcImZhLWV4cGFuZFwiKSkge1xuICBcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJmYS1leHBhbmRcIikuYWRkQ2xhc3MoXCJmYS1jb21wcmVzc1wiKTtcbiAgXHRcdFx0XHQkKFwiI2NvbnRhY3QtbWFwXCIpLmFuaW1hdGUoe1xuICBcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMHZoXCJcbiAgXHRcdFx0XHR9LDUwMCwgZnVuY3Rpb24oKXtcbiAgXHRcdFx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIobXlNYXAsIFwicmVzaXplXCIpO1xuICBcdFx0XHRcdFx0bXlNYXAuc2V0Q2VudGVyKG15UG9zaXRpb24pO1xuICBcdFx0XHRcdFx0bXlNYXAucGFuQnkoMCwoLSQoXCJuYXYubmF2YmFyXCIpLmhlaWdodCgpKSk7XG4gIFx0XHRcdFx0fSk7XG4gIFx0XHRcdFx0cmV0dXJuO1xuICBcdFx0XHR9IGVsc2UgaWYgKCR0aGlzLmNoaWxkcmVuKCkuaGFzQ2xhc3MoXCJmYS1jb21wcmVzc1wiKSkge1xuICBcdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJmYS1jb21wcmVzc1wiKS5hZGRDbGFzcyhcImZhLWV4cGFuZFwiKTtcbiAgXHRcdFx0XHRpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIob3JpZW50YXRpb246IGxhbmRzY2FwZSlcIikubWF0Y2hlcyAmJiB3aW5kb3cuaW5uZXJXaWR0aDw3NjcpIHtcbiAgXHRcdFx0XHRcdCQoXCIjY29udGFjdC1tYXBcIikuYW5pbWF0ZSh7XG4gIFx0XHRcdFx0XHRcdGhlaWdodDogXCI3NXZoXCJcbiAgXHRcdFx0XHRcdH0sNTAwLCBmdW5jdGlvbigpe1xuICBcdFx0XHRcdFx0XHRnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKG15TWFwLCBcInJlc2l6ZVwiKTtcbiAgXHRcdFx0XHRcdFx0bXlNYXAuc2V0Q2VudGVyKG15UG9zaXRpb24pO1xuICBcdFx0XHRcdFx0XHRteU1hcC5wYW5CeSgwLCgtJChcIm5hdi5uYXZiYXJcIikuaGVpZ2h0KCkpKTtcbiAgXHRcdFx0XHRcdH0pO1xuICBcdFx0XHRcdH0gZWxzZSB7XG4gIFx0XHRcdFx0XHQkKFwiI2NvbnRhY3QtbWFwXCIpLmFuaW1hdGUoe1xuICBcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiNTB2aFwiXG4gIFx0XHRcdFx0XHR9LDUwMCwgZnVuY3Rpb24oKXtcbiAgXHRcdFx0XHRcdFx0Z29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihteU1hcCwgXCJyZXNpemVcIik7XG4gIFx0XHRcdFx0XHRcdG15TWFwLnNldENlbnRlcihteVBvc2l0aW9uKTtcbiAgXHRcdFx0XHRcdFx0bXlNYXAucGFuQnkoMCwoLSQoXCJuYXYubmF2YmFyXCIpLmhlaWdodCgpKSk7XG4gIFx0XHRcdFx0XHR9KTtcbiAgXHRcdFx0XHR9XG4gIFx0XHRcdH1cbiAgXHRcdH0pXG4gIFx0fVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdENvbnRhY3RNYXA6aW5pdENvbnRhY3RNYXAsXG4gICAgICAgIHBsYWNlQ29udGFjdExpc3RlbmVyczpwbGFjZUNvbnRhY3RMaXN0ZW5lcnNcbiAgICB9XG5cbn0pKCk7XG4iLCIkKGZ1bmN0aW9uKGdsb2JhbCl7XG5cbiAgICBpZiAodHlwZW9mIGdsb2JhbC5teVNpdGUhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBnbG9iYWwubXlTaXRlID17fTtcbiAgICB9XG5cbiAgICB2YXIgY2Fyb3VzZWxzU2V0dXAgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWw6IFwiI21haW4tY2Fyb3VzZWxcIixcbiAgICAgICAgICAgICAgICBpbnRlcnZhbDo3MDAwLFxuICAgICAgICAgICAgICAgIHBhdXNlOiBcIm5vbmVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXJvdXNlbDogXCIjYWJvdXQtY2Fyb3VzZWxcIixcbiAgICAgICAgICAgICAgICBpbnRlcnZhbDo1MDAwLFxuICAgICAgICAgICAgICAgIHBhdXNlOiBcIm5vbmVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXJvdXNlbDogXCIjY2Fyb3VzZWxUb21ic3RvbmVzXCIsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6MzAwMCxcbiAgICAgICAgICAgICAgICBwYXVzZTogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWw6IFwiI2Nhcm91c2VsR2FyZGVuXCIsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6MzAwMCxcbiAgICAgICAgICAgICAgICBwYXVzZTogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWw6IFwiI2Nhcm91c2VsUmVzdG9yYXRpb25zXCIsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6MzAwMCxcbiAgICAgICAgICAgICAgICBwYXVzZTogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2Fyb3VzZWw6IFwiI0Nhcm91c2VsTW9udW1lbnRzXCIsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6MzAwMCxcbiAgICAgICAgICAgICAgICBwYXVzZTogXCJub25lXCJcbiAgICAgICAgICAgIH1cbiAgICBdO1xuXG4gICAgJCgnLmxvYWRlci13cmFwcGVyJykuaGlkZSgpO1xuXG4gICAgLy8gLS0tLS0tLS0tLSBKUVVFUlkgQU5JTUFURSBFWFRFTlNJT04gLS0tLS0tLS0tLVxuICAgICQuZm4uZXh0ZW5kKHtcbiAgICAgICAgYW5pbWF0ZUNzczogZnVuY3Rpb24gKGFuaW1hdGlvbk5hbWUsIGNhbGxCYWNrRnVuYykge1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbkVuZCA9ICd3ZWJraXRBbmltYXRpb25FbmQgbW96QW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQgYW5pbWF0aW9uZW5kJztcbiAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2FuaW1hdGVkICcgKyBhbmltYXRpb25OYW1lKS5vbmUoYW5pbWF0aW9uRW5kLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCAnICsgYW5pbWF0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihjYWxsQmFja0Z1bmMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrRnVuYygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIC0tLS0tLS0tLS0gQ0FST1VTRUxTIFNFVFVQIC0tLS0tLS0tLS1cbiAgICBpbml0Q2Fyb3VzZWxzID0gZnVuY3Rpb24oY2FyU2V0dXApIHtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGNhclNldHVwLmxlbmd0aC0xO2krKykge1xuICAgICAgICAgICAgJChjYXJTZXR1cFtpXVsnY2Fyb3VzZWwnXSkuY2Fyb3VzZWwoe1xuICAgICAgICAgICAgICAgIGludGVydmFsOiBjYXJTZXR1cFtpXVsnaW50ZXJ2YWwnXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJjYXJvdXNlbHMgaW5pdGlhbGl6ZWRcIik7XG4gICAgfTtcblxuICAgIGdsb2JhbC5teVNpdGUuY2Fyb3VzZWxzU2V0dXAgPSBjYXJvdXNlbHNTZXR1cDtcbiAgICBnbG9iYWwubXlTaXRlLmluaXRDYXJvdXNlbHMgPSBpbml0Q2Fyb3VzZWxzO1xuXG59KHdpbmRvdykpO1xuIiwiKGZ1bmN0aW9uKGdsb2JhbCwkKXtcblxuXHR2YXIgVVJMID0nLi9hc3NldHMvZGF0YS9sYW5nLmpzb24nO1xuXHR2YXIgc2l0ZUxhbmdzID0gW1wiY3pcIixcImVuXCJdO1xuXG5cdHZhciBMYW5nID0gZnVuY3Rpb24oYWN0aXZlTGFuZyl7XG5cdFx0cmV0dXJuIG5ldyBMYW5nLmluaXQoYWN0aXZlTGFuZyk7XG5cdH1cblxuXHRMYW5nLnByb3RvdHlwZSA9IHtcblx0XHRnZXRLZXlWYWw6IGZ1bmN0aW9uKGtleVZhbCl7XG5cdFx0XHRzZWxmID0gdGhpcztcblx0XHRcdHJldHVybiBmdW5jdGlvbigpe1xuXHRcdFx0XHRrZXlWYWwgPSBrZXlWYWwudHJpbSgpO1xuXHRcdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGkgPD0gTGFuZy5kYXRhLmxlbmd0aC0xOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoTGFuZy5kYXRhW2ldLmRhdGF0YWc9PT1rZXlWYWwpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IExhbmcuZGF0YVtpXVtzZWxmLmFjdGl2ZUxhbmddO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH0oKTtcblx0XHR9LFxuXHRcdHN3aXRjaExhbmc6IGZ1bmN0aW9uKHN3aXRjaFRvTGFuZyl7XG5cdFx0XHRzZWxmID0gdGhpcztcblx0XHRcdHZhciBudW1PZkxhbmdFbHMgPSAkKFwiW2RhdGEtbGFuZ11cIikubGVuZ3RoO1xuXHRcdFx0Zm9yICh2YXIgaSA9MDtpPD1udW1PZkxhbmdFbHMtMTtpKyspIHtcblx0XHRcdFx0dmFyIHJldHJpZXZlZERhdGFUYWcgPSAkKCQoXCJbZGF0YS1sYW5nXVwiKVtpXSkuZGF0YSgnbGFuZycpO1xuXHRcdFx0XHR2YWx1ZSA9IExORyQoc3dpdGNoVG9MYW5nKS5nZXRLZXlWYWwocmV0cmlldmVkRGF0YVRhZyk7XG5cdFx0XHRcdGlmICh2YWx1ZT09PXVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiTGFuZ3VhZ2UgdGFnICdcIiArIHJldHJpZXZlZERhdGFUYWcgICsgXCInIGlzIG5vdCBkZWZpbmVkIGluIGxhbmd1YWdlIGRhdGFiYXNlIGZvcjogXCIrc3dpdGNoVG9MYW5nKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAodmFsdWUudHJpbSgpIT09XCJcIikge1xuXHRcdFx0XHRcdFx0aWYgKHZhbHVlLnNlYXJjaChcIjxwaD5cIik+LTEpIHtcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHIoNCx2YWx1ZS5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0XHQkKCQoXCJbZGF0YS1sYW5nXVwiKVtpXSkuYXR0cihcInBsYWNlaG9sZGVyXCIsdmFsdWUpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JCgkKFwiW2RhdGEtbGFuZ11cIilbaV0pLnRleHQoTE5HJChzd2l0Y2hUb0xhbmcpLmdldEtleVZhbChyZXRyaWV2ZWREYXRhVGFnKSkuYW5pbWF0ZUNzcygncHVsc2UnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCQoJChcIltkYXRhLWxhbmddXCIpW2ldKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Z2V0U2VsZWN0ZWRMYW5nOiBmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuICQoXCIubGFuZy1zd2l0Y2hlcj5zcGFuXCIpLnRleHQoKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcblx0XHR9XG5cdH07XG5cblx0TGFuZy5pbml0ID0gZnVuY3Rpb24oYWN0aXZlTGFuZyl7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHNlbGYuYWN0aXZlTGFuZyA9IGFjdGl2ZUxhbmcgfHwgc2l0ZUxhbmdzWzBdO1xuXHR9XG5cblx0TGFuZy5pbml0LnByb3RvdHlwZSA9IExhbmcucHJvdG90eXBlO1xuXHRnbG9iYWwuTGFuZyA9IGdsb2JhbC5MTkckID0gTGFuZztcblxuXHRnZXRTZXJ2ZXJEYXRhKFVSTCxmdW5jdGlvbihkYXRhKXtcblx0XHRMYW5nLmRhdGEgPSBkYXRhO1xuXHRcdHZhciBpbml0TGFuZyA9ICQoXCIubGFuZy1zd2l0Y2hlcj5zcGFuXCIpLnRleHQoKS50cmltKCk7XG5cdFx0TE5HJChpbml0TGFuZykuc3dpdGNoTGFuZyhpbml0TGFuZyk7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGdldFNlcnZlckRhdGEodXJsLCBjYWxsYmFja0Z1bmMpIHtcblx0dmFyIHJlc3VsdCA9ICQuZ2V0SlNPTih1cmwsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coIFwiLS0tIHN1Y2Nlc3MgLS0tXCIgKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCBcImxhbmcgZGF0YSBsb2FkZWQuLi5cIiApO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHRcdFx0Y2FsbGJhY2tGdW5jKGRhdGEpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggXCItLS0gZXJyb3IgLS0tXCIgKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhqcVhIUik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyggXCJjb21wbGV0ZVwiICk7XG5cdFx0XHRcdH0pO1xuXHR9O1xuXG59KHdpbmRvdywgalF1ZXJ5KSk7XG4iLCIvLyAtLS0tLS0tLS0tIE5BVklHQVRJT04gLS0tLS0tLS0tLVxuXG4kKGZ1bmN0aW9uKGdsb2JhbCl7XG5cdHZhciBhY3RpdmVMYW5nPScnO1xuXHQvLyBrYW1lbmljdHZpLWVyYmVuLmN6IGdvb2dsZSBtYXBzIGtleSA9XCJBSXphU3lEc1NVODRXb2l4dnZDWjZFVjQ4QnQxNzc3TjJOTEtIbXNcIlxuXHQvLyBzdGVpbm1ldHotZXJiZW4uZGUgZ29vZ2xlIG1hcHMga2V5ID1cIkFJemFTeUEwcVZLcG5kZmNvSWdQNW53dUp4bUg1cTB2NVRTdkVjNFwiXG5cdHZhciBBUElrZXkgPSBcIkFJemFTeUEwcVZLcG5kZmNvSWdQNW53dUp4bUg1cTB2NVRTdkVjNFwiO1xuXG5cdGlmICh0eXBlb2YgZ2xvYmFsLm15U2l0ZSE9PSBcIm9iamVjdFwiKSB7XG4gIFx0Z2xvYmFsLm15U2l0ZSA9e307XG4gIH1cblxuXHR2YXIgcGFnZUNhbGxiYWNrRnVuYyA9IHtcblx0XHRtYWluOiBmdW5jdGlvbihjYWxsYmFja0Ype1xuXHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFja0YhPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGNhbGxiYWNrRiA9IGZ1bmN0aW9uKCl7fTtcblx0XHRcdH1cblx0XHRcdGluaXRDYXJvdXNlbHMobXlTaXRlLmNhcm91c2Vsc1NldHVwKTtcblx0XHRcdHBsYWNlSnVtcEJ1dHRvbkxpc3RlbmVycygpO1xuXHRcdFx0bGlua1RvR2FsbGVyeSgpO1xuXHRcdFx0aWYgKCFpc01vYmlsZUZsYWcpIHtcblx0XHRcdFx0aW5pdFBhcmFsbGF4KFwiI3BhcmFsbGF4MVwiLFwiI3BhcmFsbGF4MSA+IGRpdlwiKTtcblx0XHRcdH1cblx0XHRcdGNhbGxiYWNrRigpO1xuXHRcdH0sXG5cdFx0YWJvdXQ6IGZ1bmN0aW9uKGNhbGxiYWNrRil7XG5cdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRiE9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2tGID0gZnVuY3Rpb24oKXt9O1xuXHRcdFx0fVxuXHRcdFx0aW5pdENhcm91c2VscyhteVNpdGUuY2Fyb3VzZWxzU2V0dXApO1xuXHRcdFx0cGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzKCk7XG5cdFx0XHRpZiAoIWlzTW9iaWxlRmxhZykge1xuXHRcdFx0XHRpbml0UGFyYWxsYXgoXCIjcGFyYWxsYXgyXCIsXCIjcGFyYWxsYXgyID4gZGl2XCIpO1xuXHRcdFx0fVxuXHRcdFx0Y2FsbGJhY2tGKCk7XG5cdFx0fSxcblx0XHRyZWFsaXNhdGlvbnM6IGZ1bmN0aW9uKGNhbGxiYWNrRil7XG5cdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRiE9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2tGID0gZnVuY3Rpb24oKXt9O1xuXHRcdFx0fVxuXHRcdFx0bXlTaXRlLmluaXRDb21taXNpb25zR2FsbGVyeShmdW5jdGlvbigpe1xuXHRcdFx0XHRjYWxsYmFja0YoKTtcblx0XHRcdFx0cGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzKCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdHByaWNpbmc6IGZ1bmN0aW9uKGNhbGxiYWNrRil7XG5cdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRiE9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2tGID0gZnVuY3Rpb24oKXt9O1xuXHRcdFx0fVxuXHRcdFx0bXlTaXRlLmluaXRQcmljaW5nR2FsbGVyeShmdW5jdGlvbigpe1xuXHRcdFx0XHRjYWxsYmFja0YoKTtcblx0XHRcdFx0cGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzKCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGNvbnRhY3Q6IGZ1bmN0aW9uKGNhbGxiYWNrRixydW5NYXBJbml0U2NyaXB0KXtcblx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2tGIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFja0YgPSBmdW5jdGlvbigpe307XG5cdFx0XHR9XG5cdFx0XHRydW5NYXBJbml0U2NyaXB0ID0gcnVuTWFwSW5pdFNjcmlwdCB8fCBmYWxzZTtcblx0XHRcdGlmIChydW5NYXBJbml0U2NyaXB0KSB7XG5cdFx0XHRcdGFkZFNjcmlwdChcblx0XHRcdFx0XHRcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9XCIgKyBBUElrZXkgKyBcIiZjYWxsYmFjaz1NYXBNb2R1bGUuaW5pdENvbnRhY3RNYXBcIixcblx0XHRcdFx0XHRcImJvZHlcIixcblx0XHRcdFx0XHRmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0TWFwTW9kdWxlLnBsYWNlQ29udGFjdExpc3RlbmVycygpO1xuXHRcdFx0XHRcdFx0Q29udGFjdEZvcm1Nb2R1bGUuaW5pdENvbnRhY3RGb3JtTGlzdGVuZXIoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrRigpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0TWFwTW9kdWxlLmluaXRDb250YWN0TWFwKCk7XG5cdFx0XHRcdE1hcE1vZHVsZS5wbGFjZUNvbnRhY3RMaXN0ZW5lcnMoKTtcblx0XHRcdFx0Q29udGFjdEZvcm1Nb2R1bGUuaW5pdENvbnRhY3RGb3JtTGlzdGVuZXIoKTtcblx0XHRcdFx0Y2FsbGJhY2tGKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gaXNfbW9iaWxlKCkge1xuXHQgICAgdmFyIGFnZW50cyA9IFsnYW5kcm9pZCcsICd3ZWJvcycsICdpcGhvbmUnLCAnaXBhZCcsICdibGFja2JlcnJ5J107XG5cdCAgICBmb3IoaSBpbiBhZ2VudHMpIHtcblx0ICAgICAgICBpZigobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLnNlYXJjaChhZ2VudHNbaV0pPi0xKSAmJiAod2luZG93Lm9yaWVudGF0aW9uIT09dW5kZWZpbmVkKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0dmFyIGlzTW9iaWxlRmxhZyA9IGlzX21vYmlsZSgpO1xuXHRnbG9iYWwubXlTaXRlLmlzTW9iaWxlRmxhZyA9IGlzTW9iaWxlRmxhZztcblxuXHRpZiAoaXNNb2JpbGVGbGFnPT09dHJ1ZSkge1xuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwiaXNNb2JpbGVcIik7XG5cdH1cblxuXHRmdW5jdGlvbiBuYXZNZW51SW5pdCgpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwibmF2TWVudSBpbml0aWFsaXplZFwiKTtcblx0XHRcdHZhciBjYWNoZWRQYWdlPXt9O1xuXHRcdFx0JGNhY2hlZEl0ZW1zID0gJChcIiNtYWluTmF2YmFyIFtkYXRhLW1lbnVpdGVtXVwiKTtcblx0XHRcdCQoJGNhY2hlZEl0ZW1zKS5lYWNoKGZ1bmN0aW9uKGluZGV4LHZhbHVlKXtcblx0XHRcdFx0Y2FjaGVkUGFnZVskKHZhbHVlKS5kYXRhKCdtZW51aXRlbScpXSA9IFwiXCI7XG5cdFx0XHR9KTtcblx0XHRcdGdsb2JhbC5teVNpdGUuY2FjaGVkUGFnZSA9IGNhY2hlZFBhZ2U7XG5cblx0XHRcdHBsYWNlTGFuZ1N3aXRjaExpc3RlbmVyKHRydWUpO1xuXG5cdFx0ICAkKCcjbWFpbk5hdmJhcicpLm9uKCdzaG93LmJzLmNvbGxhcHNlJywgZnVuY3Rpb24gKCkge1xuXHQgIFx0XHRcdCQoXCIuaGFtYnVyZ2VyX19tZW51LWljb25cIikuYWRkQ2xhc3MoXCJoYW1idXJnZXJfX21lbnUtaWNvbi0tY2xvc2UteFwiKTtcblx0XHRcdH0pXG5cdCBcdFx0JCgnI21haW5OYXZiYXInKS5vbignaGlkZS5icy5jb2xsYXBzZScsIGZ1bmN0aW9uICgpIHtcblx0ICBcdFx0XHQkKFwiLmhhbWJ1cmdlcl9fbWVudS1pY29uXCIpLnJlbW92ZUNsYXNzKFwiaGFtYnVyZ2VyX19tZW51LWljb24tLWNsb3NlLXhcIik7XG5cdFx0XHR9KVxuXG5cdCAgICAkKCcubmF2LWxpbmsnKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5ocmVmLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIHZhciBtZW51TmFtZSA9ICQodGhpcykuZGF0YSgnbWVudWl0ZW0nKS50cmltKCkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRuYXZJdGVtQ2xpY2tDYWxsYmFjayhtZW51TmFtZSx0aGlzLHVybCk7XG5cdCAgICB9KTsgLy8gZW5kIG9mIGNsaWNrIGxpc3RlbmVyXG5cdH1cblxuXHRmdW5jdGlvbiBuYXZJdGVtQ2xpY2tDYWxsYmFjayAobWVtdUl0ZW1OYW1lLGVsZW0sdXJsLGNhbGxiYWNrRnVuYykge1xuXHRcdC8vY29uc29sZS5sb2cobWVtdUl0ZW1OYW1lLGVsZW0sdXJsLGNhbGxiYWNrRnVuYyk7XG5cdFx0aWYgKHR5cGVvZiBtZW51SXRlbU5hbWUgIT09ICdzdHJpbmcnKSB7bWVudUl0ZW1OYW1lPScnfTtcblx0XHRsYW5nID0gTE5HJCgpLmdldFNlbGVjdGVkTGFuZygpO1xuXHRcdGVsZW0gPSBlbGVtIHx8ICcnO1xuXHRcdHVybCA9IHVybCB8fCAnJztcblx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRnVuYyE9PSdmdW5jdGlvbicpIHtcblx0XHRcdGNhbGxiYWNrRnVuYyA9IGZ1bmN0aW9uKCl7fTtcblx0XHR9XG5cdFx0JChlbGVtKS5zaWJsaW5ncyhcIi5uYXYtbGlua1wiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHQkKGVsZW0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG5cdFx0Ly9jbG9zZSB0aGUgbW9iaWxlIG1lbnUgaWYgaXQgaXMgb3BlbmVkXG5cdFx0JCgnI21haW5OYXZiYXInKS5jb2xsYXBzZSgnaGlkZScpO1xuXG5cdFx0JCgnI2FqYXgtY29udGFpbmVyJykuZmFkZU91dCg1MDAsIGZ1bmN0aW9uKCl7XG5cdFx0XHQkKCcjYWpheC1jb250ZW50JykuaGlkZSgpO1xuXHRcdFx0JCgnLmxvYWRlci13cmFwcGVyJykuZmFkZUluKDUwMCk7XG5cdFx0XHQkKFwiYm9keSxodG1sXCIpLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6MH0sICc1MCcpO1xuXHRcdFx0JCh0aGlzKS5yZW1vdmUoKTtcblxuXHRcdFx0aWYgKG15U2l0ZS5jYWNoZWRQYWdlW21lbXVJdGVtTmFtZV09PT0nJykge1xuXHRcdFx0XHQvLyBkbyB0aGUgZm9sbG93aW5nIGlmIHRoZSBwYWdlIG5lZWRzIHRvIGJlIGxvYWRlZCBmb3IgdGhlIGZpcnN0IHRpbWUobm90IGNhY2hlZCB5ZXQpXG5cdFx0XHRcdC8vIHN0YXJ0IG9mIHRoZSBhamF4IGxvYWQgZnVuY3Rpb25cblx0XHRcdFx0JCgnI2FqYXgtY29udGVudCcpLmxvYWQodXJsICsgJyAjYWpheC1jb250YWluZXInLCBmdW5jdGlvbihyZXN1bHQsc3RhdHVzKXtcblx0XHRcdFx0XHRpZiAoc3RhdHVzID09PSBcInN1Y2Nlc3NcIikge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJMb2FkZWQgJ1wiICsgbWVtdUl0ZW1OYW1lICsgXCInIGZyb20gU0VSVkVSLi4uXCIpO1xuXHRcdFx0XHRcdFx0dXBkYXRlUGFnZShmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0XHRMTkckKGxhbmcpLnN3aXRjaExhbmcobGFuZyk7XG5cdFx0XHRcdFx0XHRcdG15U2l0ZS5jYWNoZWRQYWdlW21lbXVJdGVtTmFtZV09JChyZXN1bHQpLmZpbmQoXCIjYWpheC1jb250YWluZXJcIik7XG5cdFx0XHRcdFx0XHRcdG1lbXVJdGVtTmFtZSA9PT0nY29udGFjdCcgPyBtYXBJbml0RmxhZyA9IHRydWUgOiBtYXBJbml0RmxhZyA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRwYWdlQ2FsbGJhY2tGdW5jW21lbXVJdGVtTmFtZV0oY2FsbGJhY2tGdW5jLG1hcEluaXRGbGFnKTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzdGF0dXMgPT09IFwiZXJyb3JcIikge1xuXHRcdFx0XHRcdFx0JCgnLmxvYWRlci13cmFwcGVyJykuaGlkZSgpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJFcnJvciBsb2FkaW5nIGZyb20gc2VydmVyLi4uXCIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9KTsgLy8gZW5kIG9mIGFqYXggbG9hZCBmdW5jdGlvblxuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL2lmIHRoZSBwYWdlIGlzIGFscmVhZHkgY2FjaGVkLi4uXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiTG9hZGVkICdcIiArIG1lbXVJdGVtTmFtZSArIFwiJyBmcm9tIENBQ0hFLi4uXCIpO1xuXHRcdFx0XHQkKG15U2l0ZS5jYWNoZWRQYWdlW21lbXVJdGVtTmFtZV0pLmFwcGVuZFRvKCcjYWpheC1jb250ZW50Jyk7XG5cdFx0XHRcdHVwZGF0ZVBhZ2UoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRMTkckKGxhbmcpLnN3aXRjaExhbmcobGFuZyk7XG5cdFx0XHRcdFx0cGFnZUNhbGxiYWNrRnVuY1ttZW11SXRlbU5hbWVdKGNhbGxiYWNrRnVuYyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pOyAgLy8gZW5kIG9mIGZhZGVPdXQgZnVuY3Rpb25cblx0fSAvLyBlbmQgb2YgbmF2SXRlbUNsaWNrQ2FsbGJhY2sgZnVuY3Rpb25cblxuXHQvL2hlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIHBhZ2Ugd2hlbiBjbGlja2luZyBvbiBtZW51XG5cdGZ1bmN0aW9uIHVwZGF0ZVBhZ2UoY2FsbGJhY2tGdW5jKXtcblx0XHRpZiAodHlwZW9mIGNhbGxiYWNrRnVuYyE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGNhbGxiYWNrRnVuYyA9IGZ1bmN0aW9uKCl7fTtcblx0XHR9XG5cdFx0JCgnI2FqYXgtY29udGFpbmVyJykuc2hvdygpO1xuXHRcdCQoJy5sb2FkZXItd3JhcHBlcicpLmhpZGUoKTtcblx0XHQkKCcjYWpheC1jb250ZW50JykuZmFkZUluKDUwMCxmdW5jdGlvbigpe1xuXHRcdFx0Y2FsbGJhY2tGdW5jKCk7XG5cdFx0fSk7XG5cdH1cblxuXHQvL2hlbHBlciBmdW5jdGlvbiB0byBsb2FkIGdvb2dsZSBtYXBzIHNjcmlwdFxuXHRmdW5jdGlvbiBhZGRTY3JpcHQoIHNyYywgZWwsY2FsbGJhY2tGICkge1xuXHRcdGlmICh0eXBlb2YgY2FsbGJhY2tGIT09XCJmdW5jdGlvblwiKSB7XG5cdFx0XHRjYWxsYmFja0Y9ZnVuY3Rpb24oKXt9O1xuXHRcdH1cblx0XHQkKGVsKS5hcHBlbmQoJChcIjxzY3JpcHQgLz5cIiwge1xuXHRcdFx0c3JjOiBzcmMsXG5cdFx0XHRhc3luYzogdHJ1ZSxcblx0XHRcdGRlZmVyOiB0cnVlXG5cdFx0fSkpO1xuXHRcdGNhbGxiYWNrRigpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcGxhY2VKdW1wQnV0dG9uTGlzdGVuZXJzKCkge1xuXHRcdGNsZWFySW50ZXJ2YWwobXlTaXRlLmJ0bkludGVydmFsKTtcblx0XHRteVNpdGUuYnRuSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICAgICQoXCIuYnRuLWRvd25cIikuYW5pbWF0ZUNzcyhcImJvdW5jZVwiKTtcbiAgICB9LDMwMDApO1xuXG5cdFx0dmFyIG9mZlNldFk9MDtcblx0XHQkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24oKXtcblx0XHRcdHZhciBhY3R1YWxIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cdFx0XHR2YXIgYWN0dWFsU2Nyb2xsUG9zID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG5cdFx0XHRvZmZTZXRZID0gYWN0dWFsSGVpZ2h0LzU7XG5cblx0XHRcdGlmIChhY3R1YWxTY3JvbGxQb3M8MCkge2FjdHVhbFNjcm9sbFBvcz0wfTtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZyhhY3R1YWxIZWlnaHQsYWN0dWFsU2Nyb2xsUG9zKTtcblx0XHRcdC8vY29uc29sZS5sb2coYWN0dWFsSGVpZ2h0LW9mZlNldFksYWN0dWFsU2Nyb2xsUG9zKTtcblxuXHRcdFx0aWYgKCgoYWN0dWFsSGVpZ2h0LW9mZlNldFkpL2FjdHVhbFNjcm9sbFBvcyk+MSkge1xuXHRcdFx0XHRpZiAoJCgnLmJ0bi1tb3ZlLXVwJykuaXMoXCI6dmlzaWJsZVwiKSkge1xuXHRcdFx0XHRcdCQoXCIuYnRuLW1vdmUtdXBcIikuYW5pbWF0ZUNzcygnYm91bmNlT3V0JywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdCQoXCIuYnRuLW1vdmUtdXBcIikuaGlkZSgpO1xuXHRcdFx0XHRcdFx0JChcIi5idG4tZG93blwiKS5zaG93KCkuYW5pbWF0ZUNzcygnYm91bmNlSW4nKTtcblx0XHRcdFx0XHRcdC8vJChcIi5idG4tZG93blwiKS5hbmltYXRlQ3NzKCdib3VuY2VJbicpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghJCgnLmJ0bi1tb3ZlLXVwJykuaXMoXCI6dmlzaWJsZVwiKSkge1xuIFx0XHRcdFx0XHQkKFwiLmJ0bi1kb3duXCIpLmFuaW1hdGVDc3MoJ2JvdW5jZU91dCcsZnVuY3Rpb24oKXtcbiBcdFx0XHRcdFx0XHQkKFwiLmJ0bi1kb3duXCIpLmhpZGUoKTtcbiBcdFx0XHRcdFx0XHQkKFwiLmJ0bi1tb3ZlLXVwXCIpLnNob3coKTtcbiBcdFx0XHRcdFx0XHQkKFwiLmJ0bi1tb3ZlLXVwXCIpLmFuaW1hdGVDc3MoJ2JvdW5jZUluJyk7XG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdCQoXCIuYnRuLW1vdmUtdXBcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuXHRcdFx0JChcImJvZHksaHRtbFwiKS5zdG9wKCkuYW5pbWF0ZSh7c2Nyb2xsVG9wOjB9LCAnNzAwJywgXCJzd2luZ1wiKTtcblx0XHR9KTtcblx0XHQkKFwiLmJ0bi1kb3duXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIganVtcEhhc2ggPSBlLmN1cnJlbnRUYXJnZXQuaGFzaDtcblx0XHRcdHZhciBqdW1wUG9pbnQgPSAkKGp1bXBIYXNoKS5vZmZzZXQoKS50b3A7XG5cdFx0XHQkKFwiYm9keSxodG1sXCIpLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6anVtcFBvaW50fSwgJzcwMCcsIFwic3dpbmdcIik7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHBsYWNlTGFuZ1N3aXRjaExpc3RlbmVyKHVwZGF0ZSkge1xuXHRcdHZhciB1cGRhdGUgPSB1cGRhdGUgfHwgZmFsc2U7XG5cdFx0dmFyIGFjdGl2ZUxhbmd1YWdlcyA9W107XG5cdFx0dmFyIGxhbmd1YWdlcyA9IHtcblx0XHRcdFwiY3pcIjp0cnVlLFxuXHRcdFx0XCJlblwiOnRydWUsXG5cdFx0XHRcImRlXCI6ZmFsc2Vcblx0XHR9O1xuXHRcdGFjdGl2ZUxhbmcgPSAkKFwiLmxhbmctc3dpdGNoZXI+c3BhblwiKS50ZXh0KCkudHJpbSgpO1xuXG5cdFx0JC5lYWNoKGxhbmd1YWdlcywgZnVuY3Rpb24oaW5kZXgsdmFsdWUpe1xuXHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdGFjdGl2ZUxhbmd1YWdlcy5wdXNoKGluZGV4KTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdGlmICh1cGRhdGUpIHtcblx0XHRcdExORyQoYWN0aXZlTGFuZykuc3dpdGNoTGFuZyhhY3RpdmVMYW5nKTtcblx0XHR9XG5cblx0XHQkKFwiLmxhbmctc3dpdGNoZXI+c3BhblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgbmV4dCA9IGFjdGl2ZUxhbmd1YWdlcy5pbmRleE9mKGFjdGl2ZUxhbmcpKzE7XG5cdFx0XHRpZiAoIWlzTGFuZ0RlZmluZWQoYWN0aXZlTGFuZ3VhZ2VzLGFjdGl2ZUxhbmcpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdG5leHQgPT09IGFjdGl2ZUxhbmd1YWdlcy5sZW5ndGggPyBuZXh0PTAgOiBuZXh0PW5leHQ7XG5cdFx0XHRhY3RpdmVMYW5nID0gYWN0aXZlTGFuZ3VhZ2VzW25leHRdO1xuXHRcdFx0JChcIi5sYW5nLXN3aXRjaGVyPnNwYW5cIikudGV4dChhY3RpdmVMYW5nKTtcblx0XHRcdExORyQoYWN0aXZlTGFuZykuc3dpdGNoTGFuZyhhY3RpdmVMYW5nKTtcblx0XHRcdCQodGhpcykuYW5pbWF0ZUNzcyhcImJvdW5jZUluXCIpO1xuXHRcdH0pO1xuXG5cdFx0ZnVuY3Rpb24gaXNMYW5nRGVmaW5lZChhY3RpdmVMYW5ncyxsYW5nVG9DaGVjayl7XG5cdFx0XHRpZiAodHlwZW9mIGFjdGl2ZUxhbmdzICE9PSdvYmplY3QnKSB7XG5cdFx0XHRcdGFjdGl2ZUxhbmdzID0gYWN0aXZlTGFuZ3MgfHwgW107XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIGxhbmdUb0NoZWNrICE9PSdzdHJpbmcnKSB7XG5cdFx0XHRcdGxhbmdUb0NoZWNrID0gbGFuZ1RvQ2hlY2sgfHwgXCJcIjtcblx0XHRcdH1cblx0XHRcdHZhciBpc0RlZmluZWQgPSBmYWxzZTtcblx0XHRcdHZhciBpbmQgPSBhY3RpdmVMYW5ncy5pbmRleE9mKGFjdGl2ZUxhbmcpO1xuXHRcdFx0aWYgKGluZCA9PT0gLTEpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJlcnJvcjogbGFuZ3VhZ2U6ICdcIisgbGFuZ1RvQ2hlY2sgK1wiJyB3aXRoaW4gJ2luZGV4Lmh0bWwnIGZpbGUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBsYW5ndWFnZXMgZGVmaW5lZC5cIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpc0RlZmluZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGlzRGVmaW5lZDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBsaW5rVG9HYWxsZXJ5KCl7XG5cdFx0Y29uc29sZS5sb2coJ2xpbmtzIHRvIGdhbGxlcnkgaW5pdGlhbGl6ZWQuLi4nKTtcblx0XHQkKFwiLmJ0bi1zaXRlXCIpLm9uKCdjbGljaycsZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0O1xuXHRcdFx0dmFyIGFjdGl2ZUxhbmcgPSBMTkckKCkuZ2V0U2VsZWN0ZWRMYW5nKCk7XG5cdFx0XHR2YXIgZ2FsTGluayA9ICQodGhpcykuZGF0YSgnbGluaycpLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuXHRcdFx0dmFyICRlbGVtID0gJChcIltkYXRhLW1lbnVpdGVtPSdyZWFsaXNhdGlvbnMnXVwiKTtcblx0XHRcdHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblx0XHRcdGlmICh1cmwuc2VhcmNoKFwiaW5kZXguaHRtbFwiKSA+PSAwICkge1xuXHRcdFx0XHR1cmwgPSB1cmwucmVwbGFjZShcImluZGV4Lmh0bWxcIixcInJlYWxpc2F0aW9ucy5odG1sXCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dXJsID0gdXJsICsgXCJyZWFsaXNhdGlvbnMuaHRtbFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRuYXZJdGVtQ2xpY2tDYWxsYmFjaygncmVhbGlzYXRpb25zJywkZWxlbSx1cmwsZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQkKFwiLmZpbHRlci1pdGVtXCIpLmVhY2goZnVuY3Rpb24oaSl7XG5cdFx0XHRcdFx0XHRpZiAoJCh0aGlzKS5kYXRhKCdsYW5nJykgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoJCh0aGlzKS5kYXRhKCdsYW5nJykudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IGdhbExpbmspIHtcblx0XHRcdFx0XHRcdFx0XHQkKHRoaXMpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBpbml0UGFyYWxsYXgodHJpZ2dlckVsZW1lbnQsdHdlZW5FbGVtZW50KSB7XG5cdFx0Y29uc29sZS5sb2coXCJwYXJhbGxheCAnXCIrIHRyaWdnZXJFbGVtZW50ICtcIicgaW5pdGlhbGl6ZWRcIik7XG5cdFx0dHJpZ2dlckVsZW1lbnQgPSB0cmlnZ2VyRWxlbWVudCB8fCBcIlwiO1xuXHRcdHR3ZWVuRWxlbWVudCA9IHR3ZWVuRWxlbWVudCB8fCBcIlwiO1xuXHRcdGlmICghaXNNb2JpbGVGbGFnKSB7XG5cdCAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgU2Nyb2xsTWFnaWMuQ29udHJvbGxlcih7Z2xvYmFsU2NlbmVPcHRpb25zOiB7dHJpZ2dlckhvb2s6IFwib25FbnRlclwiLCBkdXJhdGlvbjogXCIxMDAlXCJ9fSk7XG5cdCAgICAgICAgdmFyIHBhcmFsbGF4MSA9IG5ldyBTY3JvbGxNYWdpYy5TY2VuZSh7dHJpZ2dlckVsZW1lbnQ6IHRyaWdnZXJFbGVtZW50fSlcblx0ICAgICAgICAgICAgLnNldFR3ZWVuKHR3ZWVuRWxlbWVudCwge3k6IFwiNTAlXCIsIGVhc2U6IExpbmVhci5lYXNlTm9uZX0pXG5cdCAgICAgICAgICAgIC8vLmFkZEluZGljYXRvcnMoe25hbWU6IHRyaWdnZXJFbGVtZW50fSlcblx0ICAgICAgICAgICAgLmFkZFRvKGNvbnRyb2xsZXIpO1xuXHQgICAgfVxuXHR9XG5cblx0JCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKXtcblx0XHRsaW5rVG9HYWxsZXJ5KCk7XG5cdFx0bmF2TWVudUluaXQoKTtcblx0XHRwbGFjZUp1bXBCdXR0b25MaXN0ZW5lcnMoKTtcblx0XHRwbGFjZUxhbmdTd2l0Y2hMaXN0ZW5lcigpO1xuXHRcdGluaXRQYXJhbGxheChcIiNwYXJhbGxheDFcIixcIiNwYXJhbGxheDEgPiBkaXZcIik7XG5cdH0pO1xuXG5cdGdsb2JhbC5teVNpdGUubmF2TWVudUluaXQgPSBuYXZNZW51SW5pdDtcblx0Z2xvYmFsLm15U2l0ZS5saW5rVG9HYWxsZXJ5ID0gbGlua1RvR2FsbGVyeTtcblx0Z2xvYmFsLm15U2l0ZS5uYXZJdGVtQ2xpY2tDYWxsYmFjayA9IG5hdkl0ZW1DbGlja0NhbGxiYWNrO1xuXHRnbG9iYWwubXlTaXRlLnBsYWNlSnVtcEJ1dHRvbkxpc3RlbmVycyA9IHBsYWNlSnVtcEJ1dHRvbkxpc3RlbmVycztcblx0Z2xvYmFsLm15U2l0ZS5wbGFjZUxhbmdTd2l0Y2hMaXN0ZW5lciA9IHBsYWNlTGFuZ1N3aXRjaExpc3RlbmVyO1xuXHRnbG9iYWwubXlTaXRlLmluaXRQYXJhbGxheCA9IGluaXRQYXJhbGxheDtcblxufSh3aW5kb3cpKTtcbiIsIi8vIC0tLS0tLS0tLS0gUE9SVEZPTElPIEZJTFRFUiAtLS0tLS0tLS0tXG4kKGZ1bmN0aW9uKGdsb2JhbCl7XG5cblx0ZnVuY3Rpb24gaW5pdENvbW1pc2lvbnNHYWxsZXJ5KGNhbGxiYWNrRnVuYyl7XG5cdFx0dmFyIGFjdGl2ZUxhbmcgPSBMTkckKCkuZ2V0U2VsZWN0ZWRMYW5nKCk7XG5cdFx0Y29uc29sZS5sb2coXCJpbml0Q29tbWlzaW9uc0dhbGxlcnkgY2FsbGVkXCIpO1xuXHRcdHR5cGVvZiBjYWxsYmFja0Z1bmM9PT1cImZ1bmN0aW9uXCIgPyBjYWxsYmFja0Z1bmMgPSBjYWxsYmFja0Z1bmMgOiBjYWxsYmFja0Z1bmMgPSBmdW5jdGlvbigpe307XG5cblx0XHR2YXIgYnJva2VuQ291bnQgPSAwO1xuXG5cdFx0JChcIi5ncmlkLWl0ZW0+LmltZy1yZXN1bHQtd3JhcHBlclwiKS5oaWRlKCk7XG5cdFx0JChcIi5ncmlkLWl0ZW0+LmltZy1sb2FkZXItd3JhcHBlclwiKS5zaG93KCk7XG5cdFx0JChcIi5ncmlkPi5ncmlkLWl0ZW1cIikuYWRkQ2xhc3MoXCJob3Zlci1vZmZcIik7XG5cblx0XHQkKCcjcG9ydGZvbGlvcycpLmltYWdlc0xvYWRlZCgpXG5cdFx0ICAuYWx3YXlzKCBmdW5jdGlvbiggaW5zdGFuY2UgKSB7XG5cdFx0ICAgIGNvbnNvbGUubG9nKFwiYWxsIGltYWdlcyBvZiAnQ29tbWlzaW9ucyBtZW51JyBsb2FkZWRcIik7XG5cblx0XHRcdGluc3RhbnRpYXRlSXNvdG9wZUdhbGxlcnkoXCIuZ3JpZFwiLHtcblx0XHQgIFx0XHRpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtJyxcblx0XHQgIFx0XHRzdGFnZ2VyOiAzMFxuXHRcdFx0fSk7XG5cblx0XHQgICAgYnVpbGRJbWdDYXRlZ29yaWVzKFwiI2ZpbHRlci1wb3J0Zm9saW9cIixcIiNwb3J0Zm9saW8tZ2FsbGVyeSAuZ3JpZC1pdGVtXCIpO1xuXHRcdCAgICBwbGFjZUZpbHRlckxpc3RlbmVycyhcIi5ncmlkXCIpO1xuXG5cdFx0XHQkKFwiLmdyaWQtaXRlbT4uaW1nLXJlc3VsdC13cmFwcGVyXCIpLmZhZGVPdXQoMTAwMCk7XG5cdFx0ICAgICQoXCIuaW1nLWxvYWRlcj4uaW1nLWxvYWRlci10ZXh0XCIpLnRleHQoXCJpbWFnZXMgbG9hZGVkXCIpO1xuXHRcdCAgICAkKFwiLmltZy1sb2FkZXItYmFyXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcImdyZWVuXCIpO1xuXHRcdCAgICAkKFwiLmltZy1sb2FkZXJcIikuZGVsYXkoMzAwMCkuc2xpZGVVcCgxMDAwKTtcblx0XHQgICAgJChcIi5ncmlkPi5ncmlkLWl0ZW1cIikucmVtb3ZlQ2xhc3MoXCJob3Zlci1vZmZcIik7XG5cblx0XHQgICAgLy9jYWxsYmFja0Z1bmMoKTtcblxuXHRcdCAgfSlcblx0XHQgIC5kb25lKCBmdW5jdGlvbigpIHtcblx0XHQgICAgY29uc29sZS5sb2coXCJhbGwgaW1hZ2VzIG9mICdDb21taXNpb25zIG1lbnUnIHN1Y2Nlc3NmdWxseSBsb2FkZWRcIik7XG5cdFx0XHRcdExORyQoYWN0aXZlTGFuZykuc3dpdGNoTGFuZyhhY3RpdmVMYW5nKTtcblx0XHRcdFx0Y2FsbGJhY2tGdW5jKCk7XG5cdFx0ICB9KVxuXHRcdCAgLmZhaWwoIGZ1bmN0aW9uKCkge1xuXHRcdCAgICBjb25zb2xlLmxvZyggYnJva2VuQ291bnQgKyBcIiBvZiAnQ29tbWlzaW9ucyBtZW51JyBpbWFnZXMgaGF2ZSBicm9rZW4gbGlua3MuIENoZWNrIHlvdXIgaW1hZ2UgcGF0aHMuXCIpO1xuXHRcdCAgICAkKFwiLmltZy1sb2FkZXJcIikuZGVsYXkoMzAwMCkuc2xpZGVVcCgxMDAwKTtcblx0XHQgIH0pXG5cdFx0LnByb2dyZXNzKCBmdW5jdGlvbiggaW5zdGFuY2UsIGltYWdlICkge1xuXG5cdFx0ICAgIGlmIChpbWFnZS5pc0xvYWRlZCkge1xuXHRcdCAgICBcdCQoaW1hZ2UuaW1nKS5zaWJsaW5ncyhcIi5pbWctbG9hZGVyLXdyYXBwZXJcIikuaGlkZSgpO1xuXHRcdCAgICBcdCQoaW1hZ2UuaW1nKS5zaWJsaW5ncyhcIi5pbWctcmVzdWx0LXdyYXBwZXJcIikuYW5pbWF0ZUNzcyhcImJvdW5jZUluXCIpLnNob3coKTtcblx0XHRcdFx0JChcIi5pbWctbG9hZGVyLWJhclwiKS53aWR0aCgoaW5zdGFuY2UucHJvZ3Jlc3NlZENvdW50L2luc3RhbmNlLmltYWdlcy5sZW5ndGgpKjEwMCArIFwiJVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJyb2tlbkNvdW50Kys7XG5cdFx0XHRcdCQoaW1hZ2UuaW1nKS5wYXJlbnQoKS5yZW1vdmUoKTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdFByaWNpbmdHYWxsZXJ5KGNhbGxiYWNrRnVuYyl7XG5cdFx0dHlwZW9mIGNhbGxiYWNrRnVuYz09PVwiZnVuY3Rpb25cIiA/IGNhbGxiYWNrRnVuYyA9IGNhbGxiYWNrRnVuYyA6IGNhbGxiYWNrRnVuYyA9IGZ1bmN0aW9uKCl7fTtcblxuXHRcdHZhciBicm9rZW5Db3VudCA9IDA7XG5cdFx0JChcIi5ncmlkLXByaWNpbmc+LmdyaWQtaXRlbS1wcmljaW5nXCIpLmFkZENsYXNzKFwiaG92ZXItb2ZmXCIpO1xuXG5cdFx0JChcIiNwcmljaW5nXCIpLmltYWdlc0xvYWRlZCgpXG5cdFx0IFx0LmFsd2F5cyggZnVuY3Rpb24oIGluc3RhbmNlICkge1xuXHRcdCAgICBcdGNvbnNvbGUubG9nKFwiYWxsIGltYWdlcyBvZiAnUHJpY2luZyBtZW51JyBsb2FkZWRcIik7XG5cblx0XHQgICBcdFx0aW5zdGFudGlhdGVJc290b3BlR2FsbGVyeShcIi5ncmlkLXByaWNpbmdcIix7XG5cdFx0ICBcdFx0XHRpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtLXByaWNpbmcnLFxuXHRcdCAgXHRcdFx0c3RhZ2dlcjogMzBcblx0XHRcdFx0fSk7XG5cblx0XHQgICAgXHRidWlsZEltZ0NhdGVnb3JpZXMoXCIjZmlsdGVyLXByaWNlbGlzdFwiLFwiI3ByaWNpbmctZ2FsbGVyeSAuZ3JpZC1pdGVtLXByaWNpbmdcIik7XG5cdFx0ICAgIFx0cGxhY2VGaWx0ZXJMaXN0ZW5lcnMoXCIuZ3JpZC1wcmljaW5nXCIpO1xuXHRcdCAgICBcdCQoXCIuZ3JpZC1wcmljaW5nPi5ncmlkLWl0ZW0tcHJpY2luZ1wiKS5yZW1vdmVDbGFzcyhcImhvdmVyLW9mZlwiKTtcblxuXHRcdFx0XHRcdGNhbGxiYWNrRnVuYygpO1xuXG5cdFx0ICBcdH0pXG5cdFx0ICBcdC5kb25lKCBmdW5jdGlvbigpIHtcblx0XHQgICAgXHRjb25zb2xlLmxvZyhcIkFsbCBpbWFnZXMgb2YgJ1ByaWNpbmcgbWVudScgc3VjY2Vzc2Z1bGx5IGxvYWRlZFwiKTtcblxuXHRcdCAgXHR9KVxuXHRcdCAgXHQuZmFpbCggZnVuY3Rpb24oKSB7XG5cdFx0ICAgIFx0Y29uc29sZS5sb2coIGJyb2tlbkNvdW50ICsgXCIgb2YgJ1ByaWNpbmcgbWVudScgaW1hZ2VzIGhhdmUgYnJva2VuIGxpbmtzLiBDaGVjayB5b3VyIGltYWdlIHBhdGhzLlwiKTtcblx0XHQgIFx0fSlcblx0XHRcdC5wcm9ncmVzcyggZnVuY3Rpb24oIGluc3RhbmNlLCBpbWFnZSApIHtcblxuXHRcdCAgICBcdGlmICghaW1hZ2UuaXNMb2FkZWQpIHtcblx0XHRcdFx0XHRicm9rZW5Db3VudCsrO1xuXHRcdFx0XHRcdCQoaW1hZ2UuaW1nKS5wYXJlbnQoKS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIGluc3RhbnRpYXRlSXNvdG9wZUdhbGxlcnkoZWwsb3B0aW9ucyl7XG5cdFx0JChlbCkuaXNvdG9wZShvcHRpb25zKTtcblx0XHQkKGVsKS5pc290b3BlKCAnb24nLCAnbGF5b3V0Q29tcGxldGUnLCBmdW5jdGlvbigpe1xuXHRcdFx0aWYgKGVsPT09Jy5ncmlkJykge1xuXHRcdFx0XHQkKGVsK1wiIDp2aXNpYmxlIGltZ1wiKS5hbmltYXRlQ3NzKCdwdWxzZScpO1xuXHRcdFx0fSBlbHNlIGlmIChlbD09PScuZ3JpZC1wcmljaW5nJykge1xuXHRcdFx0XHQkKGVsK1wiIDp2aXNpYmxlXCIpLmFuaW1hdGVDc3MoJ3B1bHNlJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBidWlsZEltZ0NhdGVnb3JpZXMobGlzdEVsZW1lbnQsaW1nQ29udGFpbmVycykge1xuXG5cdFx0dmFyICRpbWdDb250YWluZXJzID0gJChpbWdDb250YWluZXJzKTtcblx0XHR2YXIgJGJ1dHRvbnMgPSAkKGxpc3RFbGVtZW50KTtcblx0XHR2YXIgdGFnZ2VkID0ge307XG5cblx0XHQkYnV0dG9ucy5jaGlsZHJlbigpLnJlbW92ZSgpO1xuXG5cdFx0JGltZ0NvbnRhaW5lcnMuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGltZ0NvbnRhaW5lcj10aGlzO1xuXHRcdFx0dmFyIHRhZ3MgPSAkKHRoaXMpLmRhdGEoJ3BvcnRmb2xpby10YWdzJyk7XG5cblx0XHRcdGlmICh0YWdzKSB7XG5cdFx0XHRcdHRhZ3Muc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24odGFnTmFtZSl7XG5cdFx0XHRcdFx0dGFnTmFtZSA9IHRhZ05hbWUudHJpbSgpO1xuXHRcdFx0XHRcdGlmICh0YWdnZWRbdGFnTmFtZV09PW51bGwpIHtcblx0XHRcdFx0XHRcdHRhZ2dlZFt0YWdOYW1lXT1bXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGFnZ2VkW3RhZ05hbWVdLnB1c2goaW1nQ29udGFpbmVyKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdCRidXR0b25zLmFkZENsYXNzKFwiZmlsdGVyLXdyYXBwZXJcIik7XG5cdFx0JChcIjxsaS8+XCIpLmFwcGVuZFRvKCRidXR0b25zKTtcblxuXHRcdCQoXCI8YS8+XCIsIHtcblx0XHRcdHRleHQ6IFwiVsWhZVwiLFxuXHRcdFx0Y2xhc3M6IFwiZmlsdGVyLWl0ZW0gc2VsZWN0ZWRcIixcblx0XHRcdGNsaWNrOiBmdW5jdGlvbigpe1xuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIikucGFyZW50KCkuc2libGluZ3MoKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG5cdFx0XHR9XG5cdFx0fSkuYXBwZW5kVG8oJGJ1dHRvbnMuY2hpbGRyZW4oKS5lcSgwKSkuYXR0cignZGF0YS1sYW5nJywnVsWhZScpO1xuXG5cdFx0JChcIjxsaT48YSBjbGFzcz0nZmlsdGVyLWl0ZW0gZmlsdGVyLXBvcnRmb2xpby1kaXZpZGVyJz4mbmJzcDs8L2E+PC9saT5cIikuYXBwZW5kVG8oJGJ1dHRvbnMpO1xuXG5cdFx0JC5lYWNoKHRhZ2dlZCwgZnVuY3Rpb24odGFnTmFtZSkge1xuXHRcdFx0JChcIjxsaS8+XCIpLmFwcGVuZFRvKCRidXR0b25zKTtcblxuXHRcdFx0JChcIjxhLz5cIiwge1xuXHRcdFx0XHR0ZXh0OiB0YWdOYW1lLFxuXHRcdFx0XHRjbGFzczogXCJmaWx0ZXItaXRlbVwiLFxuXHRcdFx0XHRjbGljazogZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIikucGFyZW50KCkuc2libGluZ3MoKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG5cdFx0XHRcdH1cblx0XHRcdH0pLmFwcGVuZFRvKCRidXR0b25zLmNoaWxkcmVuKCkubGFzdCgpKS5hdHRyKCdkYXRhLWxhbmcnLHRhZ05hbWUpO1xuXHRcdH0pXG5cdH07XG5cblx0ZnVuY3Rpb24gcGxhY2VGaWx0ZXJMaXN0ZW5lcnMoZ3JpZEVsKSB7ICAgLy8gXCIuZ3JpZFwiXG5cdCAgICAkKCcuZmlsdGVyLXdyYXBwZXInKS5vbiggJ2NsaWNrJywgJy5maWx0ZXItaXRlbScsIGZ1bmN0aW9uKCkge1xuXHQgICAgXHR2YXIgZmlsdGVyVmFsdWUgPSAkKHRoaXMpLmRhdGEoJ2xhbmcnKTtcblx0ICAgIFx0IC8vIGNvbnNvbGUubG9nKFwiLS0tLS0tLS1cIik7XG5cdCAgICBcdCAvLyBjb25zb2xlLmxvZyhmaWx0ZXJWYWx1ZSk7XG5cblx0ICAgIFx0aWYgKGZpbHRlclZhbHVlID09PSAkKCQoXCIuZmlsdGVyLWl0ZW1cIilbMF0pLmRhdGEoJ2xhbmcnKSkge1xuXHQgICAgXHRcdCQoZ3JpZEVsKS5pc290b3BlKHtcblx0XHRcdFx0ICBcdGZpbHRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAgXHRcdHJldHVybiB0cnVlO1xuXHRcdFx0ICBcdCAgXHR9XG5cdFx0XHRcdFx0fSk7XG5cdCAgICBcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JChncmlkRWwpLmlzb3RvcGUoe1xuXHRcdFx0XHRcdCAgXHRmaWx0ZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgXHRcdHRhZ1RleHQ9ICQodGhpcykuZGF0YSgncG9ydGZvbGlvVGFncycpO1xuXHRcdFx0XHRcdCAgXHRcdGZvdW5kID0gdGFnVGV4dC5zZWFyY2goZmlsdGVyVmFsdWUpO1xuXHRcdFx0XHRcdFx0ICBcdGlmIChmb3VuZD4gLTEpIHtcblx0XHRcdFx0XHRcdCAgXHRcdHJldHVybiB0cnVlXG5cdFx0XHRcdFx0XHQgIFx0fSAgIGVsc2Uge1xuXHRcdFx0XHRcdFx0ICBcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHRcdFx0XHQgIFx0fVxuXHRcdFx0XHQgIFx0ICBcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdCAgICB9KTtcblxuXHRcdCQoZ3JpZEVsICsgJyAuZ3JpZC1pdGVtJykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdncmlkLWl0ZW0tc2VsZWN0ZWQnKSkge1xuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdncmlkLWl0ZW0tc2VsZWN0ZWQnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoZ3JpZEVsICsgJyAuZ3JpZC1pdGVtJykucmVtb3ZlQ2xhc3MoJ2dyaWQtaXRlbS1zZWxlY3RlZCcpO1xuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdncmlkLWl0ZW0tc2VsZWN0ZWQnKTtcblx0XHRcdH1cblx0XHRcdCQoZ3JpZEVsKS5pc290b3BlKCdsYXlvdXQnKTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdncmlkIGl0ZW0gY2xpY2tlZCcpO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJCh0aGlzKSk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGdsb2JhbC5teVNpdGUuaW5pdENvbW1pc2lvbnNHYWxsZXJ5ID0gaW5pdENvbW1pc2lvbnNHYWxsZXJ5O1xuXHRnbG9iYWwubXlTaXRlLmluaXRQcmljaW5nR2FsbGVyeSA9IGluaXRQcmljaW5nR2FsbGVyeTtcblxufSh3aW5kb3cpKTtcbiJdfQ==
